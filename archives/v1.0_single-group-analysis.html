<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weibull å¯é åº¦åˆ†æ (Mouldexå°ˆç”¨ç‰ˆ)</title>

    <!-- 1. å¼•å…¥ Chart.js ç”¨æ–¼ç¹ªåœ– -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- 2. å¼•å…¥ MathJax ç”¨æ–¼é¡¯ç¤ºæ•¸å­¸å…¬å¼ (ç†è«–èªªæ˜éƒ¨åˆ†) -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- 3. å¼•å…¥ html2canvas ç”¨æ–¼ç”Ÿæˆå ±å‘Šæˆªåœ– -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <style>
        /* å…¨åŸŸæ¨£å¼ */
        body {
            font-family: "Microsoft JhengHei", "Helvetica Neue", Helvetica, Arial, sans-serif;
            background-color: #f4f6f8;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        /* æ¨™é¡Œæ¨£å¼ */
        h1.main-title {
            text-align: center;
            color: #2c3e50;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2em;
        }

        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 5px solid #3498db;
            padding-left: 10px;
        }

        h3 {
            color: #2980b9;
            margin-top: 25px;
        }

        /* --- è¨ˆç®—æ©Ÿ UI æ¨£å¼ --- */
        .input-area {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #bdc3c7;
        }

        .row {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }

        .col-left {
            flex: 1;
            min-width: 300px;
        }

        .col-right {
            flex: 2;
            min-width: 300px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }

        input.calc-input,
        select.calc-input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        input.calc-input:focus,
        select.calc-input:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }

        button {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            color: white;
            transition: 0.3s;
        }

        .btn-add {
            background-color: #3498db;
        }

        .btn-add:hover {
            background-color: #2980b9;
        }

        .btn-calc {
            background-color: #27ae60;
            font-size: 1.1em;
        }

        .btn-calc:hover {
            background-color: #2ecc71;
        }

        .btn-demo {
            background-color: #f39c12;
        }

        .btn-clear {
            background-color: #95a5a6;
        }

        .btn-del {
            background-color: #e74c3c;
            width: auto;
            padding: 5px 10px;
            font-size: 0.8em;
        }

        .btn-batch {
            background-color: #16a085;
        }

        .btn-batch:hover {
            background-color: #1abc9c;
        }

        .btn-export {
            background-color: #9b59b6;
            font-size: 1.05em;
        }

        .btn-export:hover {
            background-color: #8e44ad;
        }

        .btn-report {
            background-color: #e67e22;
            font-size: 1.05em;
        }

        .btn-report:hover {
            background-color: #d35400;
        }

        .btn-charts {
            background-color: #27ae60;
            font-size: 1.05em;
        }

        .btn-charts:hover {
            background-color: #2ecc71;
        }

        .btn-theory {
            background-color: #3498db;
            font-size: 1.05em;
        }

        .btn-theory:hover {
            background-color: #2980b9;
        }

        .export-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .export-grid-three {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .export-grid-four {
            display: grid;
            grid-template-columns: 1fr;
            gap: 5px;
            margin-top: 10px;
        }

        /* å ±å‘Šå€åŸŸæ¨™è¨˜ */
        #reportArea {
            position: relative;
        }

        /* æ‰¹æ¬¡è¼¸å…¥å½ˆå‡ºè¦–çª— */
        .batch-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .batch-modal-content {
            background-color: #fff;
            margin: 5% auto;
            padding: 30px;
            border-radius: 8px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .batch-modal-header {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .batch-textarea {
            width: 100%;
            height: 200px;
            padding: 10px;
            border: 2px solid #bdc3c7;
            border-radius: 4px;
            font-family: "Courier New", monospace;
            font-size: 14px;
            resize: vertical;
            box-sizing: border-box;
        }

        .batch-textarea:focus {
            border-color: #3498db;
            outline: none;
        }

        .batch-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .batch-help {
            background-color: #e8f6f3;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 0.9em;
            color: #555;
        }

        .table-container {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #ddd;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #34495e;
            color: white;
            position: sticky;
            top: 0;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .result-panel {
            background: #e8f8f5;
            border: 2px solid #2ecc71;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .stat-value {
            font-size: 1.4em;
            font-weight: bold;
            color: #27ae60;
        }

        .stat-label {
            font-size: 0.9em;
            color: #555;
        }

        /* è¨ˆç®—æ©Ÿå…§çš„å…¬å¼é¡¯ç¤ºå€ */
        .formula-display {
            background-color: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0 20px 0;
            font-family: "Times New Roman", Times, serif;
            font-size: 1.5em;
            color: #2c3e50;
            border: 1px dashed #2ecc71;
        }

        canvas {
            background: #fff;
            margin-top: 20px;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        /* --- ç†è«–èªªæ˜å€å°ˆç”¨æ¨£å¼ --- */
        .theory-section {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 3px dashed #eee;
        }

        .formula-box {
            background-color: #f0f4f8;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            margin: 20px 0;
            font-size: 1.2em;
            border: 1px solid #dce4ec;
        }

        .calculation-example {
            background-color: #e8f6f3;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #a2d9ce;
            margin-bottom: 15px;
        }

        .code-block {
            background-color: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: Consolas, Monaco, "Andale Mono", monospace;
        }

        ul {
            margin-left: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        strong.highlight-text {
            color: #c0392b;
        }
    </style>
</head>

<body>

    <div class="container">
        <!-- ========================================= -->
        <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šWeibull è¨ˆç®—æ©Ÿå·¥å…· -->
        <!-- ========================================= -->
        <div id="reportArea">
            <h1 class="main-title">Weibull å¯é åº¦åˆ†æ (Mouldexå°ˆç”¨ç‰ˆ)</h1>

            <div class="row">
                <!-- å·¦å´ï¼šè¼¸å…¥å€ -->
                <div class="col-left">
                    <div class="input-area">
                        <h3>è¼¸å…¥æ•¸æ“š</h3>
                        <p style="font-size:0.8em; color:#666;">
                            ğŸ’¡ æç¤ºï¼šè¼¸å…¥æ•¸å­—å¾ŒæŒ‰ä¸‹ <strong>Enter</strong> éµå³å¯é€£çºŒè¼¸å…¥ã€‚
                        </p>
                        <label>åœ–å½¢æ¨™é¡Œ:</label>
                        <input type="text" id="chartTitle" class="calc-input" placeholder="è¼¸å…¥åœ–å½¢æ¨™é¡Œï¼ˆé¸å¡«ï¼‰" value="å¯é åº¦æ›²ç·š">
                        <label>æ¨™ç¤º R(t) å€¼ (%)</label>
                        <input type="number" id="rValue" class="calc-input" placeholder="è¼¸å…¥ R(t) å€¼ï¼ˆé è¨­ 95%ï¼‰" value="95" min="1" max="99" step="1">
                        <label>å£½å‘½ (t):</label>
                        <input type="number" id="tInput" class="calc-input" placeholder="è¼¸å…¥å£½å‘½å¾ŒæŒ‰ Enter" step="any">
                        <label>ç‹€æ…‹:</label>
                        <select id="sInput" class="calc-input">
                            <option value="F">å¤±æ•ˆ (Failure)</option>
                            <option value="S">å³è¨­é™ (Suspended)</option>
                        </select>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:5px; margin-top:5px;">
                            <button class="btn-add" onclick="showBatchInput()">æ‰¹æ¬¡è¼¸å…¥</button>
                            <button class="btn-demo" onclick="loadDemo()">è¼‰å…¥ç¯„ä¾‹</button>
                        </div>
                        <button class="btn-clear" onclick="clearData()">æ¸…ç©ºé‡ç½®</button>
                    </div>
                    <div class="table-container">
                        <table id="dataTable">
                            <thead>
                                <tr>
                                    <th>åºè™Ÿ</th>
                                    <th>å£½å‘½</th>
                                    <th>ç‹€æ…‹</th>
                                    <th>åˆªé™¤</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <button class="btn-calc" onclick="runAnalysis()">é–‹å§‹è¨ˆç®—èˆ‡ç¹ªåœ–</button>
                    <div class="export-grid-four">
                        <button class="btn-export" onclick="exportData()">ğŸ“Š æ•¸æ“šåŒ¯å‡º</button>
                        <button class="btn-charts" onclick="exportCharts()">ğŸ–¼ï¸ åœ–è¡¨åŒ¯å‡º</button>
                        <button class="btn-report" onclick="generateReport()">ğŸ“„ ç”¢ç”Ÿå ±å‘Š</button>
                        <button class="btn-theory" onclick="openTheory()">ğŸ“˜ ç†è«–æŒ‡å—</button>
                    </div>
                </div>

                <!-- å³å´ï¼šçµæœå€ -->
                <div class="col-right">
                    <div id="resultPanel" class="result-panel">
                        <h3>åˆ†æçµæœ</h3>

                        <!-- ç°¡æ˜“å…¬å¼é¡¯ç¤º -->
                        <div class="formula-display">
                            R(t) = e <sup>-( t / &eta; )<sup>&beta;</sup></sup>
                        </div>

                        <div class="stat-grid">
                            <div>
                                <div class="stat-label">å½¢ç‹€åƒæ•¸ Beta (Î²)</div>
                                <div class="stat-value" id="valBeta">-</div>
                            </div>
                            <div>
                                <div class="stat-label">ç‰¹å¾µå£½å‘½ Eta (Î·)</div>
                                <div class="stat-value" id="valEta">-</div>
                            </div>
                            <div>
                                <div class="stat-label">æ“¬åˆåº¦ RÂ²</div>
                                <div class="stat-value" id="valR2">-</div>
                            </div>
                        </div>
                        <div id="descText"
                            style="margin-top: 15px; color: #7f8c8d; font-size: 0.9em; font-weight: bold;"></div>
                    </div>
                    <canvas id="chartProb"></canvas>
                    <canvas id="chartRel"></canvas>
                </div>
            </div>
        </div>
        <!-- reportArea çµæŸ -->

        <!-- ========================================= -->
        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šç†è«–èªªæ˜ (æ•´åˆå…§å®¹) -->
        <!-- ========================================= -->
        <div class="theory-section" style="display:none;">
            <h1 style="text-align: center; color: #7f8c8d; font-size: 1.5em;">Weibull åˆ†æç†è«–æŒ‡å—</h1>
            <p>Weibullï¼ˆéŸ‹ä¼¯ï¼‰åˆ†ææ˜¯å¯é åº¦å·¥ç¨‹ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œå› ç‚ºå®ƒéå¸¸éˆæ´»ï¼Œå¯ä»¥æ¨¡æ“¬å„ç¨®å¤±æ•ˆæ¨¡å¼ï¼ˆæ—©æœŸå¤±æ•ˆã€éš¨æ©Ÿå¤±æ•ˆã€ç£¨è€—å¤±æ•ˆï¼‰ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„è¨ˆç®—æµç¨‹èˆ‡å…¬å¼è§£æã€‚</p>

            <h2>1. æ•¸æ“šé¡å‹ï¼šå¤±æ•ˆèˆ‡å³è¨­é™</h2>
            <p>åœ¨å¯é åº¦æ¸¬è©¦ä¸­ï¼Œæˆ‘å€‘æœƒé‡åˆ°å…©ç¨®æ•¸æ“šé¡å‹ï¼š</p>

            <h3>å¤±æ•ˆæ•¸æ“š (Failure, F)</h3>
            <p>ç”¢å“åœ¨æ¸¬è©¦æœŸé–“<strong class="highlight-text">ç¢ºå¯¦ç™¼ç”Ÿå¤±æ•ˆ</strong>çš„æ•¸æ“šé»ã€‚ä¾‹å¦‚ï¼šç”¢å“åœ¨é‹ä½œ 300 å°æ™‚å¾Œæå£ã€‚é€™æ˜¯æœ€ç›´æ¥ã€æœ€æœ‰åƒ¹å€¼çš„æ•¸æ“šã€‚</p>

            <h3>å³è¨­é™æ•¸æ“š (Suspended/Censored, S)</h3>
            <p><strong>å³è¨­é™</strong>æ˜¯æŒ‡ç”¢å“åœ¨æ¸¬è©¦çµæŸæ™‚<strong class="highlight-text">ä»ç„¶æ­£å¸¸é‹ä½œ</strong>ï¼Œæˆ‘å€‘åªçŸ¥é“å®ƒã€Œè‡³å°‘ã€å­˜æ´»äº†é€™éº¼ä¹…ï¼Œä½†ä¸çŸ¥é“å¯¦éš›å£½å‘½ã€‚
            </p>

            <div class="calculation-example" style="background-color: #fff3e0; border-color: #ffb74d;">
                <h3>ç‚ºä»€éº¼æœƒæœ‰å³è¨­é™æ•¸æ“šï¼Ÿ</h3>
                <ul>
                    <li><strong>æ¸¬è©¦æ™‚é–“é™åˆ¶ï¼š</strong>ç”¢å“æ¸¬è©¦ 500 å°æ™‚å¾ŒçµæŸï¼Œä½†æœ‰äº›æ¨£å“é‚„æ²’å£ â†’ è¨˜éŒ„ç‚ºã€Œ500 å°æ™‚ï¼Œè¨­é™ (S)ã€</li>
                    <li><strong>æ¨£å“ç§»é™¤ï¼š</strong>æ¸¬è©¦ä¸­é€”å› å…¶ä»–åŸå› ï¼ˆéå¤±æ•ˆï¼‰ç§»é™¤æ¨£å“ï¼Œä¾‹å¦‚é€å»åšå…¶ä»–æª¢æ¸¬</li>
                    <li><strong>æˆæœ¬è€ƒé‡ï¼š</strong>é•·æ™‚é–“æ¸¬è©¦æˆæœ¬é«˜ï¼Œç„¡æ³•ç­‰åˆ°æ‰€æœ‰æ¨£å“éƒ½å¤±æ•ˆ</li>
                </ul>
                <p><strong class="highlight-text">é‡è¦ï¼š</strong>å³è¨­é™æ•¸æ“šé›–ç„¶æ²’æœ‰å¤±æ•ˆï¼Œä½†ä»ç„¶æä¾›äº†ã€Œç”¢å“è‡³å°‘èƒ½æ´»é€™éº¼ä¹…ã€çš„è³‡è¨Šï¼Œå°æ–¼æå‡åˆ†ææº–ç¢ºåº¦éå¸¸æœ‰å¹«åŠ©ï¼</p>
            </div>

            <h3>å¯¦éš›ç¯„ä¾‹</h3>
            <p>å‡è¨­æ¸¬è©¦ 5 å€‹ç”¢å“ï¼Œæ¸¬è©¦æ™‚é–“ä¸Šé™ 600 å°æ™‚ï¼š</p>
            <ul>
                <li>ç”¢å“ Aï¼š300 å°æ™‚å¤±æ•ˆ â†’ <strong>300, F</strong></li>
                <li>ç”¢å“ Bï¼š450 å°æ™‚å¤±æ•ˆ â†’ <strong>450, F</strong></li>
                <li>ç”¢å“ Cï¼š600 å°æ™‚ä»æ­£å¸¸ â†’ <strong>600, S</strong> (å³è¨­é™)</li>
                <li>ç”¢å“ Dï¼š550 å°æ™‚å¤±æ•ˆ â†’ <strong>550, F</strong></li>
                <li>ç”¢å“ Eï¼š600 å°æ™‚ä»æ­£å¸¸ â†’ <strong>600, S</strong> (å³è¨­é™)</li>
            </ul>
            <p>é€™æ¨£çš„æ•¸æ“šçµ„åˆå¯ä»¥é€²è¡Œ Weibull åˆ†æï¼Œå³è¨­é™æ•¸æ“šæœƒè¢«æ­£ç¢ºç´å…¥è¨ˆç®—ã€‚</p>

            <!-- æ–°å¢å€å¡Šï¼šR(t) èˆ‡ F(t) çš„é—œä¿‚ -->
            <h2>1.5 å¯é åº¦èˆ‡ä¸å¯é åº¦çš„é—œä¿‚</h2>
            <p>åœ¨å·¥ç¨‹å¯¦å‹™ä¸­ï¼Œç”¢å“çš„ç‹€æ…‹æ˜¯ä¸€é«”å…©é¢çš„ï¼šä¸æ˜¯ã€Œå­˜æ´»ã€å°±æ˜¯ã€Œå·²å¤±æ•ˆã€ã€‚å› æ­¤æˆ‘å€‘å®šç¾©äº†äº’è£œçš„å…©å€‹æŒ‡æ¨™ï¼š</p>
            
            <ul>
                <li><strong>\(R(t)\) å¯é åº¦ (Reliability)</strong>ï¼š
                    <br>é€šä¿—åç¨±ï¼š<strong class="highlight-text">å­˜æ´»ç‡ (Survival Rate)</strong>
                    <br>å®šç¾©ï¼šä»£è¡¨ç”¢å“é‹ä½œåˆ°æ™‚é–“ \(t\) <strong>ä»æœªæå£</strong>çš„æ©Ÿç‡ã€‚
                </li>
                <li style="margin-top: 10px;"><strong>\(F(t)\) ä¸å¯é åº¦ (Unreliability)</strong>ï¼š
                    <br>é€šä¿—åç¨±ï¼š<strong class="highlight-text">ç´¯ç©å¤±æ•ˆæ©Ÿç‡ (Cumulative Probability of Failure)</strong>
                    <br>å®šç¾©ï¼šä»£è¡¨ç”¢å“å¾é–‹å§‹é‹ä½œç›´åˆ°æ™‚é–“ \(t\) <strong>å·²ç¶“æå£</strong>çš„ç¸½æ¯”ä¾‹ï¼ˆå³ CDFï¼‰ã€‚
                </li>
            </ul>

            <div class="formula-box">
                $$ R(t) + F(t) = 1 $$
                <p style="font-size: 0.8em; color: #555; margin-top: 5px;">(å­˜æ´»ç‡) + (ç´¯ç©å¤±æ•ˆæ©Ÿç‡) = 100%</p>
            </div>

            <h2>2. æ ¸å¿ƒå…¬å¼</h2>
            <p>Weibull åˆ†ä½ˆçš„ <strong class="highlight-text">å¯é åº¦å‡½æ•¸ (Reliability Function) \(R(t)\)</strong> å…¬å¼å¦‚ä¸‹ï¼š</p>

            <div class="formula-box">
                $$ R(t) = e^{-(t/\eta)^\beta} $$
            </div>

            <ul>
                <li><strong>\(t\)</strong>ï¼šå£½å‘½ï¼ˆæˆ–è¡Œé§›é‡Œç¨‹ã€å¾ªç’°æ¬¡æ•¸ï¼‰ã€‚</li>
                <li><strong>\(R(t)\)</strong>ï¼šåœ¨æ™‚é–“ \(t\) æ™‚ï¼Œç”¢å“å°šæœªå¤±æ•ˆçš„æ©Ÿç‡ï¼ˆå¯é åº¦ï¼‰ã€‚</li>
                <li><strong>\(\beta\) (Beta)</strong>ï¼šå½¢ç‹€åƒæ•¸ (Shape Parameter)ï¼Œæ±ºå®šå¤±æ•ˆæ¨¡å¼ã€‚</li>
                <li><strong>\(\eta\) (Eta)</strong>ï¼šå°ºåº¦åƒæ•¸ (Scale Parameter)ï¼Œåˆç¨±ç‰¹å¾µå£½å‘½ã€‚</li>
            </ul>

            <h2>3. ç†è§£é—œéµåƒæ•¸</h2>
            <p>åœ¨ä»£å…¥å…¬å¼å‰ï¼Œå¿…é ˆå…ˆé€éæ•¸æ“šæ“¬åˆæ±‚å‡º \(\beta\) å’Œ \(\eta\)ã€‚</p>

            <h3>\(\beta\) (å½¢ç‹€åƒæ•¸)ï¼šæ±ºå®šå¤±æ•ˆé¡å‹</h3>
            <ul>
                <li><strong>\(\beta < 1\)</strong>ï¼šæ—©æœŸå¤±æ•ˆæœŸ (Infant Mortality)ã€‚ç”¢å“å‰›å‡ºå» å°±å£ï¼Œé€šå¸¸æ˜¯ç”Ÿç”¢ç‘•ç–µã€‚</li>
                <li><strong>\(\beta = 1\)</strong>ï¼šéš¨æ©Ÿå¤±æ•ˆæœŸ (Random Failures)ã€‚å¤±æ•ˆå¾‹æ˜¯å¸¸æ•¸ï¼Œé¡ä¼¼æŒ‡æ•¸åˆ†ä½ˆã€‚</li>
                <li><strong>\(\beta > 1\)</strong>ï¼šç£¨è€—å¤±æ•ˆæœŸ (Wear-out)ã€‚ç”¢å“è€åŒ–ã€ç–²å‹ï¼Œå¤±æ•ˆå¾‹éš¨æ™‚é–“ä¸Šå‡ã€‚</li>
            </ul>

            <h3>\(\eta\) (å°ºåº¦åƒæ•¸)ï¼šç‰¹å¾µå£½å‘½</h3>
            <p>ä»£è¡¨ç•¶ <strong>63.2%</strong> çš„ç”¢å“å·²ç¶“å¤±æ•ˆæ™‚çš„æ™‚é–“é»ï¼ˆæ­¤æ™‚ \(R(t) = 36.8\%\)ï¼‰ã€‚é€™æ˜¯è¡¡é‡ç”¢å“å£½å‘½é•·çŸ­çš„ä¸»è¦æŒ‡æ¨™ã€‚</p>

            <h3>\(R^2\) (æ“¬åˆåº¦)ï¼šæ•¸æ“šå¯ä¿¡åº¦æŒ‡æ¨™</h3>
            <p><strong>æ“¬åˆåº¦ (R-squared, RÂ²)</strong> æ˜¯ç”¨ä¾†è©•ä¼° Weibull æ¨¡å‹èˆ‡å¯¦éš›æ•¸æ“šçš„å»åˆç¨‹åº¦ï¼Œæ•¸å€¼ç¯„åœç‚º 0 åˆ° 1ã€‚</p>
            <ul>
                <li><strong>\(R^2 \geq 0.95\)</strong>ï¼šå„ªç§€æ“¬åˆï¼Œæ•¸æ“šéå¸¸ç¬¦åˆ Weibull åˆ†ä½ˆï¼Œåˆ†æçµæœé«˜åº¦å¯ä¿¡ã€‚</li>
                <li><strong>\(0.90 \leq R^2 < 0.95\)</strong>ï¼šè‰¯å¥½æ“¬åˆï¼Œçµæœå¯æ¥å—ï¼Œä½†å¯èƒ½å­˜åœ¨å°‘é‡ç•°å¸¸æ•¸æ“šã€‚</li>
                <li><strong>\(0.80 \leq R^2 < 0.90\)</strong>ï¼šå°šå¯æ“¬åˆï¼Œå»ºè­°æª¢æŸ¥æ•¸æ“šå“è³ªæˆ–è€ƒæ…®å…¶ä»–åˆ†ä½ˆæ¨¡å‹ã€‚</li>
                <li><strong>\(R^2 < 0.80\)</strong>ï¼šæ“¬åˆä¸ä½³ï¼Œæ•¸æ“šå¯èƒ½ä¸ç¬¦åˆ Weibull åˆ†ä½ˆï¼Œæˆ–å­˜åœ¨åš´é‡ç•°å¸¸å€¼ã€‚</li>
            </ul>
            <p><strong class="highlight-text">æ³¨æ„ï¼š</strong>å¦‚æœ \(R^2\) éä½ï¼Œå»ºè­°é‡æ–°æª¢è¦–æ•¸æ“šä¾†æºã€æ¸¬è©¦æ¢ä»¶æ˜¯å¦ä¸€è‡´ï¼Œæˆ–è€ƒæ…®ä½¿ç”¨å°æ•¸å¸¸æ…‹åˆ†ä½ˆç­‰å…¶ä»–æ¨¡å‹ã€‚</p>

            <h2>4. è¨ˆç®—æ­¥é©Ÿå¯¦ä¾‹</h2>
            <p>å‡è¨­ä½ åˆ†æä¸€çµ„æ•¸æ“šå¾Œå¾—åˆ°åƒæ•¸ï¼š<strong class="highlight-text">\(\beta = 2.5\)</strong> (ç£¨è€—å‹) èˆ‡ <strong
                    class="highlight-text">\(\eta = 1000\) å°æ™‚</strong>ã€‚</p>

            <div class="calculation-example">
                <h3>æƒ…å¢ƒ Aï¼šè¨ˆç®—ç‰¹å®šæ™‚é–“çš„å¯é åº¦</h3>
                <p><strong>å•é¡Œï¼š</strong>ç”¢å“é‹ä½œ <strong>500 å°æ™‚</strong> å¾Œï¼Œé‚„å­˜æ´»çš„æ©Ÿç‡æ˜¯å¤šå°‘ï¼Ÿ</p>
                <p>ä»£å…¥å…¬å¼ï¼š</p>
                $$ R(500) = e^{-(500/1000)^{2.5}} $$
                $$ R(500) = e^{-(0.5)^{2.5}} = e^{-0.1768} \approx 0.838 $$
                <p><strong>ç­”æ¡ˆï¼š</strong> å¯é åº¦ç‚º <strong>83.8%</strong>ã€‚</p>
            </div>
            <br>
            <div class="calculation-example" style="background-color: #fff8e1; border-color: #ffe082;">
                <h3>æƒ…å¢ƒ Bï¼šè¨ˆç®— B10 å£½å‘½ (B10 Life)</h3>
                <p><strong>å•é¡Œï¼š</strong>å¤šå°‘æ™‚é–“å¾Œï¼Œæœƒæœ‰ 10% çš„ç”¢å“å¤±æ•ˆï¼ˆå³ 90% å¯é åº¦ï¼‰ï¼Ÿ</p>
                <p>å…¬å¼è®Šå½¢ï¼š \( t = \eta \times (-\ln(R))^{1/\beta} \)</p>
                $$ t = 1000 \times (-\ln(0.9))^{1/2.5} $$
                $$ t = 1000 \times (0.10536)^{0.4} $$
                $$ t \approx 1000 \times 0.406 = 406 \text{ å°æ™‚} $$
                <p><strong>ç­”æ¡ˆï¼š</strong> B10 å£½å‘½ç‚º <strong>406 å°æ™‚</strong>ã€‚</p>
            </div>

            <h2>4. B-Life æ¦‚å¿µèˆ‡å·¥ç¨‹æ„ç¾©</h2>
            <p>åœ¨å¯é åº¦å·¥ç¨‹ï¼ˆç‰¹åˆ¥æ˜¯ Weibull åˆ†æï¼‰ä¸­ï¼Œã€ŒBã€ ä»£è¡¨ Basic Lifeï¼ˆåŸºæœ¬å£½å‘½ï¼‰ï¼Œå¾Œé¢çš„æ•¸å­—ä»£è¡¨ ç´¯ç©å¤±æ•ˆç™¾åˆ†æ¯”ã€‚ç°¡å–®ä¾†èªªï¼ŒBx å£½å‘½å°±æ˜¯ï¼šã€Œç•¶ x% çš„ç”¢å“å¤±æ•ˆæ™‚ï¼Œæ‰€ç¶“éçš„æ™‚é–“ã€ã€‚ä»¥ä¸‹æ˜¯
                B1ã€B10ã€B63.2 çš„è©³ç´°å®šç¾©èˆ‡å®ƒå€‘åœ¨å·¥ç¨‹ä¸Šçš„æ„ç¾©ï¼š</p>

            <h3>1. B10 å£½å‘½ (B10 Life) â€”â€” è¡Œæ¥­é€šç”¨æ¨™æº–</h3>
            <div class="calculation-example" style="background-color: #e8f8f5; border-color: #2ecc71;">
                <p><strong>å®šç¾©ï¼š</strong>ç•¶ 10% çš„ç”¢å“å¤±æ•ˆï¼ˆä¹Ÿå°±æ˜¯é‚„æœ‰ 90% å­˜æ´»ï¼‰çš„æ™‚é–“é»ã€‚</p>
                <p><strong>æ•¸å­¸æ„ç¾©ï¼š</strong>å¯é åº¦ \(R(t) = 90\%\) æˆ– \(0.9\)ã€‚</p>
                <p><strong>æ‡‰ç”¨å ´æ™¯ï¼š</strong>é€™æ˜¯æ±½è»Šæ¥­ã€è»¸æ‰¿æ¥­ã€é¦¬é”æ¥­æœ€å¸¸ç”¨çš„æŒ‡æ¨™ã€‚é€šå¸¸ç”¨ä¾†è¨­å®š <strong>ä¿å›ºæœŸ (Warranty)</strong>ã€‚</p>
                <p><strong>å¯¦éš›ä¾‹å­ï¼š</strong>å¦‚æœè»Šå» ç®—å‡ºæŸé›¶ä»¶çš„ B10 å£½å‘½æ˜¯ 3å¹´ï¼Œä»£è¡¨ 3å¹´å…§é è¨ˆæœƒæœ‰ 10% çš„è»Šå›ä¾†ç¶­ä¿®ï¼Œé€™æœ‰åŠ©æ–¼è¨ˆç®—ä¿å›ºæˆæœ¬ã€‚</p>
            </div>

            <h3>2. B1 å£½å‘½ (B1 Life) â€”â€” é«˜å®‰å…¨æ¨™æº–</h3>
            <div class="calculation-example" style="background-color: #f8f9fa; border-color: #495057;">
                <p><strong>å®šç¾©ï¼š</strong>ç•¶ 1% çš„ç”¢å“å¤±æ•ˆï¼ˆä¹Ÿå°±æ˜¯é‚„æœ‰ 99% å­˜æ´»ï¼‰çš„æ™‚é–“é»ã€‚</p>
                <p><strong>æ•¸å­¸æ„ç¾©ï¼š</strong>å¯é åº¦ \(R(t) = 99\%\) æˆ– \(0.99\)ã€‚</p>
                <p><strong>æ‡‰ç”¨å ´æ™¯ï¼š</strong>ç”¨æ–¼é«˜å®‰å…¨æ€§ã€é«˜å¯é åº¦çš„ç”¢å“ï¼Œå¦‚ <strong>èˆªå¤ªã€é†«ç™‚è¨­å‚™ã€æ±½è»Šå®‰å…¨æ°£å›Š</strong>ã€‚å°æ–¼é€™äº›ç”¢å“ï¼Œ10%
                    çš„å¤±æ•ˆæ˜¯ä¸å¯æ¥å—çš„ï¼Œå¿…é ˆç¢ºä¿æ¥µå°‘é‡çš„ç”¢å“æœƒåœ¨è©²æ™‚é–“é»å‰å£æ‰ã€‚</p>
            </div>

            <h3>3. B63.2 (ç‰¹å¾µå£½å‘½ / \(\eta\)) â€”â€” æ•¸å­¸åŸºæº–</h3>
            <div class="calculation-example" style="background-color: #fff3cd; border-color: #ffc107;">
                <p><strong>å®šç¾©ï¼š</strong>ç•¶ 63.2% çš„ç”¢å“å¤±æ•ˆï¼ˆåªå‰© 36.8% å­˜æ´»ï¼‰çš„æ™‚é–“é»ã€‚</p>
                <p><strong>ç‚ºä»€éº¼æ˜¯ 63.2%ï¼Ÿ</strong>é€™ä¾†è‡ª Weibull çš„å…¬å¼çµæ§‹ã€‚ç•¶æ™‚é–“ \(t\) æ­£å¥½ç­‰æ–¼å°ºåº¦åƒæ•¸ \(\eta\) æ™‚ï¼š</p>
                <div class="formula-box">
                    $$ R(\eta) = e^{-(\eta/\eta)^\beta} = e^{-1} \approx 0.3678 $$
                    $$ F(t) = 1 - 0.3678 = 0.6322 \text{ (å³ 63.2%)} $$
                </div>
                <p><strong>æ„ç¾©ï¼š</strong>B63.2 å°±æ˜¯ \(\eta\) (Eta, å°ºåº¦åƒæ•¸)ã€‚å®ƒä»£è¡¨é€™æ‰¹ç”¢å“çš„ã€Œç‰¹å¾µå£½å‘½ã€(Characteristic Life)ã€‚é›–ç„¶ 63%
                    çš„å¤±æ•ˆç‡è½èµ·ä¾†å¾ˆé«˜ï¼ˆå¤§åŠéƒ½å£äº†ï¼‰ï¼Œä½†å®ƒåœ¨æ•¸å­¸ä¸Šæ˜¯ä¸€å€‹éå¸¸ç©©å®šçš„åŸºæº–ç‚¹ï¼Œç”¨ä¾†è¡¡é‡æ•´é«”å£½å‘½çš„é•·çŸ­ã€‚å¦‚æœ \(\eta\) è¶Šå¤§ï¼Œä»£è¡¨ç”¢å“æ•´é«”æ’å¾—è¶Šä¹…ã€‚</p>
            </div>

            <h3>ç¸½çµæ¯”è¼ƒè¡¨</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead>
                    <tr style="background-color: #34495e; color: white;">
                        <th style="padding: 12px; border: 1px solid #ddd;">æŒ‡æ¨™</th>
                        <th style="padding: 12px; border: 1px solid #ddd;">å¤±æ•ˆæ¯”ä¾‹</th>
                        <th style="padding: 12px; border: 1px solid #ddd;">å­˜æ´»ç‡ (å¯é åº¦)</th>
                        <th style="padding: 12px; border: 1px solid #ddd;">æ„ç¾©èˆ‡ç”¨é€”</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background-color: #ffebee;">
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>B1</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">1%</td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">99%</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">æ¥µä½é¢¨éšªï¼šç”¨æ–¼é£›æ©Ÿã€é†«ç™‚ã€å®‰å…¨ä»¶ã€‚</td>
                    </tr>
                    <tr style="background-color: #e8f5e9;">
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>B10</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">10%</td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">90%</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">å·¥æ¥­æ¨™æº–ï¼šç”¨æ–¼åˆ¶å®šä¿å›ºæœŸã€é¦¬é”å£½å‘½ã€ä¸€èˆ¬é›»å­ç”¢å“ã€‚</td>
                    </tr>
                    <tr style="background-color: #f3e5f5;">
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>B50</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">50%</td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">50%</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">ä¸­ä½æ•¸å£½å‘½ï¼šä¸€åŠå£äº†ä¸€åŠå¥½çš„æ™‚é–“é» (å¹³å‡å£½å‘½)ã€‚</td>
                    </tr>
                    <tr style="background-color: #fff3e0;">
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>B63.2</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">63.2%</td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;">36.8%</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">ç‰¹å¾µå£½å‘½ (\(\eta\))ï¼šWeibull çš„å°ºåº¦åƒæ•¸ï¼Œæ•¸å­¸ä¸Šçš„åŸºæº–é»ã€‚</td>
                    </tr>
                </tbody>
            </table>

            <h3>å¦‚ä½•é€éæˆ‘å€‘å‰›åšçš„ç¶²é è¨ˆç®—ï¼Ÿ</h3>
            <div class="calculation-example" style="background-color: #e3f2fd; border-color: #2196f3;">
                <p>åœ¨æˆ‘å€‘çš„ç¶²é å·¥å…·ç®—å‡º \(\beta\) å’Œ \(\eta\) å¾Œï¼Œæ‚¨å¯ä»¥æ‰‹å‹•ç”¨ä»¥ä¸‹å…¬å¼åæ¨é€™äº› B-Lifeï¼š</p>
                <div class="formula-box">
                    $$ t = \eta \times (-\ln(R))^{1/\beta} $$
                </div>
                <ul>
                    <li><strong>ç®— B1ï¼š</strong>å°‡ R è¨­ç‚º 0.99</li>
                    <li><strong>ç®— B10ï¼š</strong>å°‡ R è¨­ç‚º 0.90</li>
                    <li><strong>ç®— B63.2ï¼š</strong>ç­”æ¡ˆå°±æ˜¯ç¶²é ä¸Šé¡¯ç¤ºçš„ Eta (\(\eta\)) å€¼ã€‚</li>
                </ul>
            </div>

            <h2>5. æ¨£æœ¬æ•¸é‡å»ºè­°ï¼šå¤šå°‘é¡†æ‰å¤ ï¼Ÿ</h2>
            <p>é€²è¡Œå¯é åº¦åˆ†æï¼ˆç‰¹åˆ¥æ˜¯ Weibull åˆ†æï¼‰æ™‚ï¼Œæ¨£æœ¬æ•¸é‡çš„é¸æ“‡æ°¸é æ˜¯<strong
                    class="highlight-text">ã€Œçµ±è¨ˆç²¾ç¢ºåº¦ã€èˆ‡ã€Œæ¸¬è©¦æˆæœ¬/æ™‚é–“ã€ä¹‹é–“çš„æ¬Šè¡¡</strong>ã€‚é›–ç„¶æ•¸å­¸ä¸Šåªéœ€è¦ <strong>2 å€‹å¤±æ•ˆé»</strong>å°±èƒ½ç•«å‡ºä¸€æ¢ç·šï¼ˆæ±‚å‡º
                \(\beta\) å’Œ \(\eta\)ï¼‰ï¼Œä½†åœ¨å·¥ç¨‹å¯¦å‹™ä¸Šï¼Œé€™æ˜¯é é ä¸å¤ çš„ã€‚</p>

            <h3>å»ºè­°çš„æ¨£æœ¬æ•¸é‡ (Rule of Thumb)</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead>
                    <tr style="background-color: #34495e; color: white;">
                        <th style="padding: 12px; border: 1px solid #ddd;">æ¨£æœ¬æ•¸é‡</th>
                        <th style="padding: 12px; border: 1px solid #ddd;">è©•åƒ¹</th>
                        <th style="padding: 12px; border: 1px solid #ddd;">é©ç”¨æƒ…å¢ƒ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>3 - 5 é¡†</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center; color: #e74c3c;">
                            <strong>æ¥µä½ (é«˜é¢¨éšª)</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd;">åƒ…é©ç”¨æ–¼éå¸¸æ˜‚è²´çš„ç”¢å“ï¼ˆå¦‚è¡›æ˜Ÿã€å¤§å‹æ¨¡å…·ï¼‰æˆ–åˆæ­¥æ‘¸åº•æ¸¬è©¦ã€‚èª¤å·®ç¯„åœæ¥µå¤§ï¼Œåƒ…èƒ½çœ‹å¤§è‡´è¶¨å‹¢ã€‚
                        </td>
                    </tr>
                    <tr style="background-color: #f9f9f9;">
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>6 - 10 é¡†</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center; color: #f39c12;">
                            <strong>å‹‰å¼·æ¥å—</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd;">é©ç”¨æ–¼é–‹ç™¼éšæ®µçš„å¿«é€Ÿé©—è­‰ã€‚å¯ä»¥ç®—å‡ºåƒæ•¸ï¼Œä½†å°æ–¼ B10 å£½å‘½ï¼ˆæ—©æœŸå¤±æ•ˆï¼‰çš„é æ¸¬ä»ä¸å¤ æº–ç¢ºã€‚
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>10 - 20
                                é¡†</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center; color: #27ae60;">
                            <strong>å·¥ç¨‹æ¨è–¦ (ç”œèœœé»)</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd;">å¤§å¤šæ•¸å·¥æ¥­æ¨™æº–çš„é¸æ“‡ã€‚åœ¨æˆæœ¬èˆ‡ç²¾ç¢ºåº¦ä¹‹é–“å–å¾—æœ€ä½³å¹³è¡¡ï¼Œè¶³ä»¥åˆ¤æ–·å¤±æ•ˆæ¨¡å¼
                            (\(\beta\)) ä¸¦ä¼°ç®— B10 å£½å‘½ã€‚</td>
                    </tr>
                    <tr style="background-color: #f9f9f9;">
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center;"><strong>20 - 30
                                é¡†+</strong></td>
                        <td style="padding: 10px; border: 1px solid #ddd; text-align: center; color: #2980b9;">
                            <strong>çµ±è¨ˆé¡¯è‘—</strong>
                        </td>
                        <td style="padding: 10px; border: 1px solid #ddd;">é©ç”¨æ–¼é«˜å¯é åº¦è¦æ±‚ï¼ˆå¦‚è»Šè¦ã€é†«ç™‚ã€èˆªå¤ªï¼‰æˆ–ä½æˆæœ¬å…ƒä»¶ã€‚èƒ½æä¾›è¼ƒçª„çš„ä¿¡è³´å€é–“ã€‚</td>
                    </tr>
                </tbody>
            </table>

            <h3>ç‚ºä»€éº¼ï¼Ÿ(èƒŒå¾Œçš„çµ±è¨ˆåŸå› )</h3>

            <div class="calculation-example" style="background-color: #e8f5e9; border-color: #81c784;">
                <h3>A. ä¿¡è³´å€é–“ (Confidence Bounds) çš„å¯¬åº¦</h3>
                <p>Weibull åˆ†æç®—å‡ºçš„åªæ˜¯ã€Œä¼°è¨ˆå€¼ã€ã€‚æ¨£æœ¬è¶Šå°‘ï¼Œä¸ç¢ºå®šæ€§ï¼ˆä¿¡è³´å€é–“ï¼‰å°±è¶Šå¯¬ã€‚</p>
                <p><strong>ä¾‹å­ï¼š</strong></p>
                <ul>
                    <li><strong>5 é¡†æ¨£å“ï¼š</strong>ç®—å‡º B10 å£½å‘½æ˜¯ 500 å°æ™‚ï¼Œä½† 90% ä¿¡è³´å€é–“å¯èƒ½æ˜¯ <strong>[100 å°æ™‚, 2500
                            å°æ™‚]</strong>ã€‚é€™ç¯„åœå¤§åˆ°å¹¾ä¹ç„¡æ³•åšæ±ºç­–ã€‚</li>
                    <li><strong>20 é¡†æ¨£å“ï¼š</strong>ç®—å‡º B10 å£½å‘½æ˜¯ 500 å°æ™‚ï¼Œä¿¡è³´å€é–“å¯èƒ½ç¸®å°è‡³ <strong>[400 å°æ™‚, 650
                            å°æ™‚]</strong>ã€‚é€™æ•¸æ“šå°±å¾ˆæœ‰åƒè€ƒåƒ¹å€¼ã€‚</li>
                </ul>
            </div>

            <div class="calculation-example" style="background-color: #fff3e0; border-color: #ffb74d;">
                <h3>B. ç‚ºäº†æŠ“åˆ°ã€Œæ—©æœŸå¤±æ•ˆã€(B1/B10)</h3>
                <p>å·¥ç¨‹å¸«é€šå¸¸ä¸é—œå¿ƒå¹³å‡å£½å‘½ (\(\eta\), B63.2)ï¼Œè€Œæ˜¯é—œå¿ƒ<strong class="highlight-text">ã€Œæœ€æ—©å£çš„é‚£å¹¾é¡†ã€</strong> (B10 æˆ– B1)ã€‚</p>
                <ul>
                    <li>Weibull åˆ†ä½ˆçš„<strong>å°¾ç«¯ï¼ˆæ—©æœŸå¤±æ•ˆå€ï¼‰</strong>å°æ•¸æ“šéå¸¸æ•æ„Ÿã€‚</li>
                    <li>å¦‚æœæ¨£æœ¬å¤ªå°‘ï¼Œä½ å¾ˆé›£ç¢ºå®šæœ€æ—©å¤±æ•ˆçš„é‚£é¡†æ˜¯ã€Œéš¨æ©Ÿçš„ç‰¹ä¾‹ã€é‚„æ˜¯ã€Œæ•´æ‰¹ç”¢å“çš„å¸¸æ…‹ã€ã€‚</li>
                    <li>æ•¸æ“šé‡å¤§æ‰èƒ½ç©©å®šæç¹ªå‡ºæ›²ç·šçš„å°¾ç«¯ã€‚</li>
                </ul>
            </div>

            <div class="calculation-example" style="background-color: #fce4ec; border-color: #f48fb1;">
                <h3>C. ç¢ºèªå¤±æ•ˆæ¨¡å¼ (\(\beta\) å€¼)</h3>
                <p>\(\beta\) å€¼æ±ºå®šäº†ç”¢å“æ˜¯ã€Œæ—©å¤­ã€ã€ã€Œéš¨æ©Ÿå¤±æ•ˆã€é‚„æ˜¯ã€Œç£¨è€—ã€ã€‚</p>
                <p>æ¨£æœ¬å°‘æ™‚ï¼Œéš¨ä¾¿ä¸€é¡†ç•°å¸¸å€¼ï¼ˆOutlierï¼‰éƒ½æœƒè®“ç›´ç·šæ–œç‡åŠ‡çƒˆæ³¢å‹•ï¼Œå°è‡´ä½ èª¤åˆ¤å¤±æ•ˆæ¨¡å¼ï¼ˆä¾‹å¦‚æŠŠç£¨è€—èª¤åˆ¤ç‚ºéš¨æ©Ÿå¤±æ•ˆï¼‰ï¼Œé€²è€Œé¸éŒ¯æ”¹å–„æ–¹å‘ã€‚</p>
            </div>

            <h3>å¦‚æœé ç®—/æ™‚é–“æœ‰é™ï¼Œæ¨£æœ¬å¾ˆå°‘æ€éº¼è¾¦ï¼Ÿ(Mouldex å¯¦å‹™å»ºè­°)</h3>
            <p>åœ¨æ¨¡å…·æˆ–é«˜å–®åƒ¹ç”¢å“åˆ†æä¸­ï¼Œå¾€å¾€ä¸å¯èƒ½æ¸¬ 20 é¡†ã€‚é€™æ™‚æœ‰å¹¾ç¨®ç­–ç•¥ï¼š</p>

            <div class="calculation-example" style="background-color: #e1f5fe; border-color: #4fc3f7;">
                <h3>ç­–ç•¥ä¸€ï¼šä½¿ç”¨ã€ŒWeibayes åˆ†æã€(1åƒæ•¸ Weibull)</h3>
                <p>å¦‚æœä½ åªæœ‰å¾ˆå°‘çš„æ¨£æœ¬ï¼ˆä¾‹å¦‚ 2-3 é¡†ï¼‰ï¼Œç”šè‡³æ²’æœ‰å¤±æ•ˆï¼ˆå…¨éƒ½æ˜¯ Suspendedï¼‰ï¼Œä½†ä½ æœ‰éå»é¡ä¼¼ç”¢å“çš„ç¶“é©—ã€‚</p>
                <p><strong>æ–¹æ³•ï¼š</strong>å›ºå®š \(\beta\) å€¼ï¼ˆæ ¹æ“šæ­·å²ç¶“é©—ï¼Œä¾‹å¦‚é‡‘å±¬ç–²å‹é€šå¸¸ \(\beta \approx 3\)ï¼‰ï¼Œåªè¨ˆç®— \(\eta\)ã€‚</p>
                <p><strong>å„ªé»ï¼š</strong>éœ€è¦çš„æ¨£æœ¬æ•¸æ¥µå°‘ï¼Œä¸”çµæœæ¯”æ¨™æº– Weibull æ›´å¯ä¿¡ï¼ˆå› ç‚ºåˆ©ç”¨äº†æ­·å²çŸ¥è­˜ï¼‰ã€‚</p>
            </div>

            <div class="calculation-example" style="background-color: #f3e5f5; border-color: #ba68c8;">
                <h3>ç­–ç•¥äºŒï¼šå¢åŠ ã€Œè¨­é™æ•¸æ“šã€(Suspended Data)</h3>
                <p><strong>æ–¹æ³•ï¼š</strong>ä½ å¯ä»¥åªæ¸¬åˆ° 2-3 é¡†å¤±æ•ˆï¼Œä½†åŒæ™‚æ”¾å…¥ 10 é¡†æ¨£å“ä¸€èµ·è·‘ã€‚ç•¶å‰ 3 é¡†å¤±æ•ˆå¾Œï¼Œåœæ­¢æ¸¬è©¦ã€‚</p>
                <p><strong>åŸå› ï¼š</strong>é‚£ 7 é¡†æœªå¤±æ•ˆçš„æ•¸æ“šï¼ˆå³è¨­é™ï¼‰é›–ç„¶æ²’å£ï¼Œä½†å®ƒå€‘æä¾›äº†ã€Œé€™æ®µæ™‚é–“å…§æ²’å£ã€çš„è³‡è¨Šï¼Œé€™èƒ½é¡¯è‘—æå‡åˆ†æçš„æº–ç¢ºåº¦ï¼Œæ¯”åªæ¸¬ 3 é¡†å…¨éƒ¨æ¸¬åˆ°å£è¦å¥½å¾—å¤šã€‚</p>
            </div>

            <h3>ç¸½çµå»ºè­°</h3>
            <p>å°æ–¼ <strong>Mouldex çš„æ‡‰ç”¨å ´æ™¯</strong>ï¼š</p>
            <ul>
                <li><strong>ç†æƒ³æƒ…æ³ï¼š</strong>ç›¡é‡çˆ­å– <strong class="highlight-text">10 é¡†ä»¥ä¸Š</strong>çš„æ¨£æœ¬ã€‚</li>
                <li><strong>æœ€ä½åº•ç·šï¼š</strong>è‡³å°‘è¦æœ‰ <strong class="highlight-text">5-6 é¡†</strong>ã€‚</li>
                <li><strong>æ¸¬è©¦ç­–ç•¥ï¼š</strong>å¦‚æœåªèƒ½æ¸¬åˆ°å°‘æ•¸å¹¾é¡†å£æ‰ï¼Œè«‹å‹™å¿…ä¿ç•™é‚£äº›ã€Œé‚„æ²’å£ã€çš„æ•¸æ“šä½œç‚º<strong>å³è¨­é™ (Suspended)</strong>
                    è¼¸å…¥åˆ°æˆ‘å€‘å‰›åšå¥½çš„ç¶²é å·¥å…·ä¸­ï¼Œé€™æ¨£èƒ½å¤§å¹…æå‡æº–ç¢ºåº¦ã€‚</li>
            </ul>

            <h2>6. å¦‚ä½•å–å¾—åƒæ•¸ (\(\beta, \eta\))</h2>
            <p>åœ¨å¯¦éš›å·¥ç¨‹ä¸­ï¼Œæˆ‘å€‘ä¸æœƒæ‰‹ç®—åƒæ•¸ï¼Œé€šå¸¸ä½¿ç”¨åœ–è§£æ³•æˆ–è»Ÿé«”ï¼ˆå¦‚ä¸Šæ–¹è¨ˆç®—æ©Ÿï¼‰ï¼š</p>

            <h3>åœ–è§£æ³• (Excel åŸç†)</h3>
            <p>åˆ©ç”¨ Weibull ç·šæ€§åŒ–å…¬å¼è£½ä½œæ•£ä½ˆåœ–ï¼š</p>
            <div class="formula-box">
                $$ \ln(-\ln(1 - F(t))) = \beta \ln(t) - \beta \ln(\eta) $$
            </div>
            <p>åœ¨åœ–è¡¨ä¸­ï¼Œè¶¨å‹¢ç·šçš„<strong>æ–œç‡å³ç‚º \(\beta\)</strong>ã€‚</p>

        </div>
        <!-- ç†è«–å€çµæŸ -->

    </div>

    <footer style="text-align: center; margin-top: 30px; font-size: 0.9em; color: #777;">
        <p>Generated for Mouldex Weibull Analysis</p>
    </footer>

    <!-- æ‰¹æ¬¡è¼¸å…¥å½ˆå‡ºè¦–çª— -->
    <div id="batchModal" class="batch-modal">
        <div class="batch-modal-content">
            <div class="batch-modal-header">ğŸ“‹ æ‰¹æ¬¡è¼¸å…¥æ•¸æ“š</div>
            <div class="batch-help">
                <strong>ä½¿ç”¨èªªæ˜ï¼š</strong><br>
                â€¢ å¾ Excel æˆ– CSV è¤‡è£½æ•¸æ“šï¼Œç›´æ¥è²¼ä¸Šåˆ°ä¸‹æ–¹æ–‡å­—æ¡†<br>
                â€¢ æ ¼å¼ï¼šæ¯è¡Œä¸€ç­†æ•¸æ“šï¼Œç”¨ Tabã€é€—è™Ÿæˆ–ç©ºæ ¼åˆ†éš”<br>
                â€¢ ç¬¬ä¸€æ¬„ï¼šå£½å‘½ (t)ï¼Œç¬¬äºŒæ¬„ï¼šç‹€æ…‹ (F=å¤±æ•ˆ, S=å³è¨­é™)<br>
                â€¢ ç¯„ä¾‹ï¼š<code>100 F</code> æˆ– <code>200,S</code> æˆ– <code>300	F</code>
            </div>
            <textarea id="batchTextarea" class="batch-textarea" placeholder="è«‹è²¼ä¸Šæ•¸æ“šï¼Œä¾‹å¦‚ï¼š&#10;100 F&#10;150 F&#10;200 S&#10;250 F"></textarea>
            <div class="batch-buttons">
                <button class="btn-add" onclick="processBatchInput()">âœ“ ç¢ºèªåŠ å…¥</button>
                <button class="btn-clear" onclick="closeBatchInput()">âœ— å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <!-- ========================================= -->
    <!-- JavaScript é‚è¼¯ (è¨ˆç®—èˆ‡ç¹ªåœ–) -->
    <!-- ========================================= -->
        <script>
        let data = [];
        let chartProb = null;
        let chartRel = null;
        let analysisResults = null; // å„²å­˜åˆ†æçµæœ

        window.onload = function () {
            const tInput = document.getElementById("tInput");
            const sInput = document.getElementById("sInput");
            tInput.addEventListener("keydown", function (event) {
                if (event.key === "Enter") { event.preventDefault(); addData(); }
            });
            sInput.addEventListener("keydown", function (event) {
                if (event.key === "Enter") { event.preventDefault(); addData(); }
            });
            tInput.focus();
        };

        function addData() {
            const tInput = document.getElementById('tInput');
            const t = parseFloat(tInput.value);
            const s = document.getElementById('sInput').value;
            if (isNaN(t) || t <= 0) {
                if (tInput.value !== "") alert("è«‹è¼¸å…¥å¤§æ–¼ 0 çš„æœ‰æ•ˆæ™‚é–“");
                return;
            }
            data.push({ t: t, s: s });
            sortDataArray();
            updateTable();
            tInput.value = '';
            tInput.focus();
        }

        function showBatchInput() {
            document.getElementById('batchModal').style.display = 'block';
            document.getElementById('batchTextarea').value = '';
            document.getElementById('batchTextarea').focus();
        }

        function closeBatchInput() {
            document.getElementById('batchModal').style.display = 'none';
        }

        function processBatchInput() {
            const textarea = document.getElementById('batchTextarea');
            const text = textarea.value.trim();
            
            if (!text) {
                alert("è«‹è¼¸å…¥æ•¸æ“šï¼");
                return;
            }

            const lines = text.split('\n');
            let successCount = 0;
            let errorCount = 0;
            const errors = [];

            lines.forEach((line, index) => {
                line = line.trim();
                if (!line) return; // è·³éç©ºè¡Œ

                // æ”¯æ´å¤šç¨®åˆ†éš”ç¬¦ï¼šTabã€é€—è™Ÿã€ç©ºæ ¼
                const parts = line.split(/[\t,\s]+/);
                
                if (parts.length < 2) {
                    errors.push(`ç¬¬ ${index + 1} è¡Œï¼šæ ¼å¼éŒ¯èª¤ï¼ˆéœ€è¦å…©æ¬„æ•¸æ“šï¼‰`);
                    errorCount++;
                    return;
                }

                const t = parseFloat(parts[0]);
                let s = parts[1].toUpperCase();

                // é©—è­‰æ•¸æ“š
                if (isNaN(t) || t <= 0) {
                    errors.push(`ç¬¬ ${index + 1} è¡Œï¼šå£½å‘½å¿…é ˆæ˜¯å¤§æ–¼ 0 çš„æ•¸å­—`);
                    errorCount++;
                    return;
                }

                if (s !== 'F' && s !== 'S') {
                    errors.push(`ç¬¬ ${index + 1} è¡Œï¼šç‹€æ…‹å¿…é ˆæ˜¯ F æˆ– S`);
                    errorCount++;
                    return;
                }

                // åŠ å…¥æ•¸æ“š
                data.push({ t: t, s: s });
                successCount++;
            });

            // æ›´æ–°è¡¨æ ¼
            if (successCount > 0) {
                sortDataArray();
                updateTable();
            }

            // é¡¯ç¤ºçµæœ
            closeBatchInput();
            
            if (errorCount > 0) {
                alert('âœ… æˆåŠŸåŠ å…¥ ' + successCount + ' ç­†æ•¸æ“š\nâŒ ' + errorCount + ' ç­†æ•¸æ“šæœ‰èª¤ï¼š\n\n' + errors.slice(0, 5).join('\n') + (errors.length > 5 ? '\n...(æ›´å¤šéŒ¯èª¤)' : ''));
            } else {
                alert(`âœ… æˆåŠŸåŠ å…¥ ${successCount} ç­†æ•¸æ“šï¼`);
            }
        }

        // é»æ“Šå½ˆå‡ºè¦–çª—å¤–éƒ¨é—œé–‰
        window.onclick = function(event) {
            const modal = document.getElementById('batchModal');
            if (event.target === modal) {
                closeBatchInput();
            }
        }

        function loadDemo() {
            data = [
                { t: 300, s: 'F' }, { t: 100, s: 'F' }, { t: 250, s: 'S' },
                { t: 150, s: 'F' }, { t: 550, s: 'F' }, { t: 120, s: 'S' },
                { t: 400, s: 'F' }, { t: 200, s: 'F' }
            ];
            sortDataArray();
            updateTable();
            runAnalysis();
        }

        function sortDataArray() {
            data.sort((a, b) => {
                if (a.t !== b.t) return a.t - b.t;
                return (a.s === 'F' ? -1 : 1);
            });
        }

        function clearData() {
            data = [];
            updateTable();
            document.getElementById('resultPanel').style.display = 'none';
            if (chartProb) chartProb.destroy();
            if (chartRel) chartRel.destroy();
            document.getElementById('tInput').focus();
        }

        function deleteRow(idx) {
            data.splice(idx, 1);
            updateTable();
        }

        function updateTable() {
            const tbody = document.querySelector('#dataTable tbody');
            tbody.innerHTML = '';
            data.forEach((item, idx) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                <td style="color:#aaa;">${idx + 1}</td>
                <td style="font-weight:bold;">${item.t}</td>
                <td style="color:${item.s === 'F' ? '#e74c3c' : '#2980b9'}; font-weight:bold;">
                    ${item.s === 'F' ? 'å¤±æ•ˆ (F)' : 'è¨­é™ (S)'}
                </td>
                <td><button class="btn-del" onclick="deleteRow(${idx})">X</button></td>
            `;
                tbody.appendChild(tr);
            });
            const container = document.querySelector('.table-container');
            container.scrollTop = container.scrollHeight;
        }

        function runAnalysis() {
            sortDataArray();
            if (data.filter(d => d.s === 'F').length < 2) {
                alert("éŒ¯èª¤ï¼šè‡³å°‘éœ€è¦ 2 å€‹å¤±æ•ˆæ•¸æ“š (Failure) æ‰èƒ½è¨ˆç®—åƒæ•¸ã€‚");
                return;
            }
            const N = data.length;
            let points = [];
            let previousOrderNumber = 0;
            for (let i = 0; i < N; i++) {
                let item = data[i];
                let reverseRank = N - i;
                let increment = ((N + 1) - previousOrderNumber) / reverseRank;
                let newOrderNumber = previousOrderNumber + increment;
                if (item.s === 'F') {
                    let medianRank = (newOrderNumber - 0.3) / (N + 0.4);
                    if (medianRank >= 0.99999) medianRank = 0.99999;
                    let x = Math.log(item.t);
                    let term = -Math.log(1 - medianRank);
                    let y = Math.log(term);
                    if (isFinite(x) && isFinite(y)) {
                        points.push({ x: x, y: y });
                    }
                }
                previousOrderNumber = newOrderNumber;
            }
            if (points.length < 2) {
                alert("æœ‰æ•ˆæ•¸æ“šé»ä¸è¶³ï¼Œç„¡æ³•æ“¬åˆã€‚");
                return;
            }
            let sumX = 0, sumY = 0, sumXY = 0, sumXX = 0;
            let nP = points.length;
            points.forEach(p => {
                sumX += p.x; sumY += p.y;
                sumXY += (p.x * p.y); sumXX += (p.x * p.x);
            });
            let slope = (nP * sumXY - sumX * sumY) / (nP * sumXX - sumX * sumX);
            let intercept = (sumY - slope * sumX) / nP;
            let beta = slope;
            let eta = Math.exp(-intercept / beta);
            let yMean = sumY / nP;
            let ssTot = points.reduce((acc, p) => acc + Math.pow(p.y - yMean, 2), 0);
            let ssRes = points.reduce((acc, p) => acc + Math.pow(p.y - (slope * p.x + intercept), 2), 0);
            let r2 = 1 - (ssRes / ssTot);

            document.getElementById('resultPanel').style.display = 'block';
            document.getElementById('valBeta').innerText = beta.toFixed(4);
            document.getElementById('valEta').innerText = eta.toFixed(2);
            document.getElementById('valR2').innerText = r2.toFixed(4);

            let typeText = "";
            if (beta < 1) typeText = "æ—©æœŸå¤±æ•ˆ (Infant Mortality)";
            else if (beta < 1.1) typeText = "éš¨æ©Ÿå¤±æ•ˆ (Constant Failure Rate)";
            else typeText = "ç£¨è€—å¤±æ•ˆ (Wear-out)";
            document.getElementById('descText').innerText = `å¤±æ•ˆæ¨¡å¼åˆ¤å®š: ${typeText}`;

            // å„²å­˜åˆ†æçµæœä¾›åŒ¯å‡ºä½¿ç”¨
            analysisResults = {
                beta: beta,
                eta: eta,
                r2: r2,
                failureMode: typeText,
                points: points
            };

            drawCharts(points, slope, intercept, beta, eta, data[N - 1].t);
        }

        // æ•¸æ“šåŒ¯å‡ºåŠŸèƒ½
        function exportData() {
            if (!analysisResults) {
                alert("è«‹å…ˆåŸ·è¡Œã€Œé–‹å§‹è¨ˆç®—èˆ‡ç¹ªåœ–ã€ä»¥ç”¢ç”Ÿåˆ†æçµæœï¼");
                return;
            }

            let csvContent = "Weibull å¯é åº¦åˆ†æçµæœ\n\n";

            // åˆ†æåƒæ•¸
            csvContent += "=== åˆ†æåƒæ•¸ ===\n";
            csvContent += "åƒæ•¸åç¨±,æ•¸å€¼\n";
            csvContent += `å½¢ç‹€åƒæ•¸ Beta (Î²),${analysisResults.beta.toFixed(4)}\n`;
            csvContent += `ç‰¹å¾µå£½å‘½ Eta (Î·),${analysisResults.eta.toFixed(2)}\n`;
            csvContent += `æ“¬åˆåº¦ RÂ²,${analysisResults.r2.toFixed(4)}\n`;
            csvContent += `å¤±æ•ˆæ¨¡å¼,${analysisResults.failureMode}\n\n`;

            // åŸå§‹æ•¸æ“š
            csvContent += "=== åŸå§‹æ•¸æ“š ===\n";
            csvContent += "åºè™Ÿ,å£½å‘½ (t),ç‹€æ…‹(F:å¤±æ•ˆ/S:å³è¨­é™) \n";
            data.forEach((item, idx) => {
                csvContent += `${idx + 1},${item.t},${item.s}\n`;
            });

            // Weibull Probability Plot æ•¸æ“šï¼ˆå¤±æ•ˆæ•¸æ“šé»ï¼‰
            csvContent += "\n=== Weibull Probability Plot æ•¸æ“š ===\n";
            csvContent += "å£½å‘½ (t),ln(t),ln(-ln(1-F(t))),ä¸­ä½ç§© F(t)\n";
            analysisResults.points.forEach(point => {
                const t = Math.exp(point.x);
                const F = 1 - Math.exp(-Math.exp(point.y));
                csvContent += `${t.toFixed(2)},${point.x.toFixed(4)},${point.y.toFixed(4)},${(F * 100).toFixed(2)}%\n`;
            });

            // Weibull è¶¨å‹¢ç·šæ•¸æ“šï¼ˆ100 å€‹é»ï¼‰
            csvContent += "\n=== Weibull è¶¨å‹¢ç·šæ•¸æ“š ===\n";
            csvContent += "ln(t),ln(-ln(1-F(t)))\n";
            const minX = Math.min(...analysisResults.points.map(p => p.x));
            const maxX = Math.max(...analysisResults.points.map(p => p.x));
            const slope = analysisResults.beta;
            const intercept = -slope * Math.log(analysisResults.eta);
            for (let i = 0; i <= 100; i++) {
                const x = minX + (maxX - minX) * i / 100;
                const y = slope * x + intercept;
                csvContent += `${x.toFixed(4)},${y.toFixed(4)}\n`;
            }

            // å¯é åº¦æ›²ç·šæ•¸æ“šï¼ˆ200 å€‹é»ï¼‰
            const maxT = data[data.length - 1].t * 1.5;
            csvContent += "\n=== å¯é åº¦æ›²ç·šæ•¸æ“š ===\n";
            csvContent += "å£½å‘½ (t),å¯é åº¦ R(t) (%),å¤±æ•ˆç‡ F(t) (%)\n";
            for (let i = 0; i <= 200; i++) {
                const t = maxT * i / 200;
                const R = Math.exp(-Math.pow(t / analysisResults.eta, analysisResults.beta)) * 100;
                const F = 100 - R;
                csvContent += `${t.toFixed(2)},${R.toFixed(4)},${F.toFixed(4)}\n`;
            }

            // é—œéµå¯é åº¦æ•¸æ“šè¡¨ï¼ˆæ¯ 5% é–“éš”ï¼‰
            csvContent += "\n=== é—œéµå¯é åº¦æ•¸æ“šè¡¨ ===\n";
            csvContent += "å¯é åº¦ R(t) (%),æ™‚é–“ (t),å¤±æ•ˆç‡ F(t) (%)\n";
            for (let r = 100; r >= 5; r -= 5) {
                const t = analysisResults.eta * Math.pow(-Math.log(r / 100), 1 / analysisResults.beta);
                const F = 100 - r;
                csvContent += `${r},${t.toFixed(2)},${F}\n`;
            }

            // B-Life æ•¸æ“šï¼ˆB1, B5, B10, B20, B50ï¼‰
            csvContent += "\n=== B-Life æ•¸æ“š ===\n";
            csvContent += "B-Life,æ™‚é–“ (t),èªªæ˜\n";
            const bLifeValues = [1, 5, 10, 20, 50];
            bLifeValues.forEach(b => {
                const R = (100 - b) / 100;
                const t = analysisResults.eta * Math.pow(-Math.log(R), 1 / analysisResults.beta);
                csvContent += `B${b},${t.toFixed(2)},${b}% ç”¢å“å¤±æ•ˆæ™‚çš„å£½å‘½\n`;
            });

            // ä¸‹è¼‰ CSV
            const blob = new Blob(["\ufeff" + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            const url = URL.createObjectURL(blob);
            link.setAttribute("href", url);
            link.setAttribute("download", `Weibull_å®Œæ•´åˆ†ææ•¸æ“š_${new Date().toISOString().slice(0, 10)}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            alert("âœ… å®Œæ•´æ•¸æ“šå·²æˆåŠŸåŒ¯å‡ºç‚º CSV æª”æ¡ˆï¼\nåŒ…å«ï¼š\n- åˆ†æåƒæ•¸\n- åŸå§‹æ•¸æ“š\n- Weibull Probability Plot (å¤±æ•ˆé» + è¶¨å‹¢ç·š 100 é»)\n- å¯é åº¦æ›²ç·š (200 é»)\n- é—œéµå¯é åº¦è¡¨ (æ¯ 5%)\n- B-Life æ•¸æ“š");
        }

        // åœ–è¡¨åŒ¯å‡ºåŠŸèƒ½ï¼ˆè¶…é«˜è§£æåº¦ï¼‰
        function exportCharts() {
            if (!chartProb || !chartRel) {
                alert("è«‹å…ˆåŸ·è¡Œã€Œé–‹å§‹è¨ˆç®—èˆ‡ç¹ªåœ–ã€ä»¥ç”¢ç”Ÿåœ–è¡¨ï¼");
                return;
            }

            // åŒ¯å‡º Weibull Probability Plot
            exportChartAsHighResImage(chartProb, 'Weibull_Probability_Plot');

            // å»¶é² 500ms å¾ŒåŒ¯å‡ºç¬¬äºŒå¼µåœ–
            setTimeout(() => {
                exportChartAsHighResImage(chartRel, 'Weibull_å¯é åº¦æ›²ç·š');
                alert("âœ… å…©å¼µåœ–è¡¨å·²æˆåŠŸåŒ¯å‡ºç‚ºé«˜å“è³ª PNG æª”æ¡ˆï¼ˆ960Ã—720 @ 4K DPIï¼‰ï¼");
            }, 500);
        }

        // å°‡åœ–è¡¨åŒ¯å‡ºç‚ºé«˜å“è³ª PNGï¼ˆ960Ã—720 @ 4K DPIï¼‰
        function exportChartAsHighResImage(chart, filename) {
            // ç›®æ¨™å°ºå¯¸ï¼š960Ã—720ï¼Œä½†ä½¿ç”¨ 4 å€ DPI é”åˆ° 4K å“è³ª
            const displayWidth = 960;
            const displayHeight = 720;
            const dpiScale = 4; // 4K å“è³ªçš„ DPI å€æ•¸

            // å¯¦éš› canvas å°ºå¯¸ï¼ˆ3840Ã—2160ï¼Œå³ 4Kï¼‰
            const actualWidth = displayWidth * dpiScale;
            const actualHeight = displayHeight * dpiScale;

            // å»ºç«‹è‡¨æ™‚å®¹å™¨
            const tempContainer = document.createElement('div');
            tempContainer.style.cssText = `position:absolute;left:-9999px;width:${displayWidth}px;height:${displayHeight}px;`;
            document.body.appendChild(tempContainer);

            // å»ºç«‹é«˜è§£æåº¦ Canvas
            const highResCanvas = document.createElement('canvas');
            highResCanvas.width = actualWidth;
            highResCanvas.height = actualHeight;
            highResCanvas.style.width = displayWidth + 'px';
            highResCanvas.style.height = displayHeight + 'px';
            tempContainer.appendChild(highResCanvas);

            // å–å¾— 2D ä¸Šä¸‹æ–‡ï¼ˆå…è¨±é€æ˜ï¼Œç¨å¾Œæ‰‹å‹•å¡«å……ç™½è‰²ï¼‰
            const ctx = highResCanvas.getContext('2d');

            // å…ˆç¹ªè£½ç™½è‰²èƒŒæ™¯ï¼ˆåœ¨ scale ä¹‹å‰ï¼Œä½¿ç”¨å¯¦éš›å°ºå¯¸ï¼‰
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, actualWidth, actualHeight);

            // ç„¶å¾Œå†é€²è¡Œç¸®æ”¾
            ctx.scale(dpiScale, dpiScale);

            // æ·±åº¦è¤‡è£½åœ–è¡¨é…ç½®
            const chartData = JSON.parse(JSON.stringify(chart.config.data));
            const chartOptions = JSON.parse(JSON.stringify(chart.config.options));

            // ç¢ºä¿åœ–è¡¨é¸é …ä¸­è¨­å®šç™½è‰²èƒŒæ™¯
            if (!chartOptions.plugins) chartOptions.plugins = {};
            if (!chartOptions.plugins.legend) chartOptions.plugins.legend = {};
            chartOptions.plugins.legend.labels = chartOptions.plugins.legend.labels || {};
            chartOptions.plugins.legend.labels.color = '#000000';

            // åœ¨é«˜è§£æåº¦ canvas ä¸Šé‡æ–°æ¸²æŸ“åœ–è¡¨
            const tempChart = new Chart(ctx, {
                type: chart.config.type,
                data: chartData,
                options: chartOptions,
                plugins: [{
                    id: 'customCanvasBackgroundColor',
                    beforeDraw: (chart) => {
                        const ctx = chart.canvas.getContext('2d');
                        ctx.save();
                        ctx.globalCompositeOperation = 'destination-over';
                        ctx.fillStyle = '#ffffff';
                        ctx.fillRect(0, 0, chart.width, chart.height);
                        ctx.restore();
                    }
                }, ...(chart.config.plugins || [])]
            });

            // ç­‰å¾…æ¸²æŸ“å®Œæˆå¾Œä¸‹è¼‰
            setTimeout(() => {
                highResCanvas.toBlob((blob) => {
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = `${filename}_${new Date().toISOString().slice(0, 10)}.png`;
                    link.click();

                    // æ¸…ç†
                    tempChart.destroy();
                    document.body.removeChild(tempContainer);
                }, 'image/png', 1.0);
            }, 150);
        }

        // ç”¢ç”Ÿå ±å‘ŠåŠŸèƒ½ï¼ˆæˆªå–è™›ç·šä¸Šæ–¹å€åŸŸï¼Œå«é‚Šç•Œï¼Œè¶…é«˜è§£æåº¦ï¼‰
        async function generateReport() {
            if (!analysisResults) {
                alert("è«‹å…ˆåŸ·è¡Œã€Œé–‹å§‹è¨ˆç®—èˆ‡ç¹ªåœ–ã€ä»¥ç”¢ç”Ÿåˆ†æçµæœï¼");
                return;
            }

            const reportArea = document.getElementById('reportArea');
            const loadingMsg = document.createElement('div');
            loadingMsg.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px 40px;border-radius:8px;font-size:1.2em;z-index:9999;';
            loadingMsg.textContent = 'æ­£åœ¨ç”Ÿæˆå ±å‘Šï¼Œè«‹ç¨å€™...';
            document.body.appendChild(loadingMsg);

            try {
                // ä½¿ç”¨ html2canvas æˆªå–å ±å‘Šå€åŸŸï¼ˆ6 å€è§£æåº¦ä»¥ç¢ºä¿åœ–è¡¨æ¸…æ™°ï¼‰
                const scale = 6;
                const originalCanvas = await html2canvas(reportArea, {
                    scale: scale,
                    useCORS: true,
                    backgroundColor: '#ffffff',
                    logging: false,
                    windowWidth: reportArea.scrollWidth,
                    windowHeight: reportArea.scrollHeight,
                    onclone: (clonedDoc) => {
                        // å„ªåŒ– canvas è®€å–æ•ˆèƒ½
                        const canvases = clonedDoc.querySelectorAll('canvas');
                        canvases.forEach(canvas => {
                            const ctx = canvas.getContext('2d', { willReadFrequently: true });
                        });
                    }
                });

                // å»ºç«‹æ–°çš„ canvasï¼Œå¢åŠ  40px é‚Šç•Œï¼ˆèˆ‡ container padding ç›¸åŒï¼‰
                const padding = 40 * scale;
                const newCanvas = document.createElement('canvas');
                newCanvas.width = originalCanvas.width + padding * 2;
                newCanvas.height = originalCanvas.height + padding * 2;
                const ctx = newCanvas.getContext('2d', {
                    alpha: false,
                    willReadFrequently: false
                });

                // è¨­å®šé«˜å“è³ªæ¸²æŸ“
                ctx.imageSmoothingEnabled = true;
                ctx.imageSmoothingQuality = 'high';

                // å¡«å……ç™½è‰²èƒŒæ™¯
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, newCanvas.width, newCanvas.height);

                // å°‡åŸå§‹æˆªåœ–ç¹ªè£½åˆ°ä¸­å¤®ï¼ˆç•™å‡ºé‚Šç•Œï¼‰
                ctx.drawImage(originalCanvas, padding, padding);

                // ä¸‹è¼‰åœ–ç‰‡
                newCanvas.toBlob((blob) => {
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                    link.download = `Weibull_åˆ†æå ±å‘Š_${timestamp}.png`;
                    link.click();
                    document.body.removeChild(loadingMsg);
                    alert(`âœ… å ±å‘Šå·²æˆåŠŸç”Ÿæˆï¼\nè§£æåº¦: ${newCanvas.width} Ã— ${newCanvas.height} px`);
                }, 'image/png', 1.0);
            } catch (error) {
                document.body.removeChild(loadingMsg);
                alert("âŒ å ±å‘Šç”Ÿæˆå¤±æ•—ï¼š" + error.message);
                console.error(error);
            }
        }

        function drawCharts(points, slope, intercept, beta, eta, maxT) {
            // ç™½è‰²èƒŒæ™¯æ’ä»¶
            const whiteBackgroundPlugin = {
                id: 'customCanvasBackgroundColor',
                beforeDraw: (chart) => {
                    const { ctx, width, height } = chart;
                    ctx.save();
                    ctx.fillStyle = '#ffffff';
                    ctx.fillRect(0, 0, width, height);
                    ctx.restore();
                }
            };

            const ctx1 = document.getElementById('chartProb').getContext('2d');
            if (chartProb) chartProb.destroy();
            let minX = Math.min(...points.map(p => p.x));
            let maxX = Math.max(...points.map(p => p.x));
            let linePts = [
                { x: minX - 0.5, y: slope * (minX - 0.5) + intercept },
                { x: maxX + 0.5, y: slope * (maxX + 0.5) + intercept }
            ];
            chartProb = new Chart(ctx1, {
                type: 'scatter',
                data: {
                    datasets: [
                        { label: 'å¤±æ•ˆæ•¸æ“šé»', data: points, backgroundColor: '#e74c3c', pointRadius: 6 },
                        { label: 'Weibull è¶¨å‹¢ç·š', data: linePts, showLine: true, borderColor: '#2980b9', borderWidth: 2, pointRadius: 0, fill: false, type: 'line' }
                    ]
                },
                options: {
                    responsive: true,
                    aspectRatio: 16 / 9,
                    plugins: { title: { display: true, text: 'Weibull Probability Plot', font: { size: 16 } }, tooltip: { callbacks: { label: (ctx) => `æ™‚é–“: ${Math.exp(ctx.raw.x).toFixed(1)}` } } },
                    scales: { x: { title: { display: true, text: 'ln(t)' } }, y: { title: { display: true, text: 'ln(-ln(1-F(t)))' } } }
                },
                plugins: [whiteBackgroundPlugin]
            });

            const ctx2 = document.getElementById('chartRel').getContext('2d');
            if (chartRel) chartRel.destroy();

            let relPoints = [];
            let plotMax = maxT * 1.5;
            let step = plotMax / 2000;

            for (let t = 0; t <= plotMax; t += step) {
                let R = Math.exp(-Math.pow(t / eta, beta));
                relPoints.push({ x: t, y: R * 100 });
            }

            // è¨ˆç®—ä½¿ç”¨è€…è¨­å®šçš„ R(t) å€¼å°æ‡‰çš„æ™‚é–“é»
            let rValue = parseFloat(document.getElementById('rValue').value) || 95;
            rValue = Math.max(1, Math.min(99.9, rValue)); // é™åˆ¶åœ¨ 1-99.9% ä¹‹é–“
            let R = rValue / 100;
            
            // R(t) = e^(-(t/Î·)^Î²) = R
            // -(t/Î·)^Î² = ln(R)
            // (t/Î·)^Î² = -ln(R)
            // t = Î· Ã— (-ln(R))^(1/Î²)
            let tR = eta * Math.pow(-Math.log(R), 1 / beta);
            let rPoint = { x: tR, y: rValue };

            // å–å¾—ä½¿ç”¨è€…è¼¸å…¥çš„åœ–å½¢æ¨™é¡Œ
            let chartTitle = document.getElementById('chartTitle').value || 'å¯é åº¦æ›²ç·š (Reliability Curve)';

            // è‡ªè¨‚æ’ä»¶ï¼šåœ¨åœ–è¡¨ä¸Šç¹ªè£½æ¨™ç±¤å’Œå‚ç›´è™›ç·š
            const labelPlugin = {
                id: 'customLabel',
                afterDatasetsDraw: function (chart) {
                    const ctx = chart.ctx;
                    const yAxis = chart.scales.y;
                    const xAxis = chart.scales.x;

                    chart.data.datasets.forEach((dataset, i) => {
                        if (dataset.label.includes('R(t) =') && dataset.data.length > 0) {
                            const meta = chart.getDatasetMeta(i);
                            const point = meta.data[0];
                            const x = point.x;
                            const y = point.y;

                            // ç¹ªè£½å‚ç›´è™›ç·š (å¾ R(t)=95% é»åˆ°æ©«è»¸)
                            const yBottom = yAxis.getPixelForValue(0);
                            ctx.save();
                            ctx.strokeStyle = '#e74c3c';
                            ctx.lineWidth = 2;
                            ctx.setLineDash([5, 5]);
                            ctx.beginPath();
                            ctx.moveTo(x, y);
                            ctx.lineTo(x, yBottom);
                            ctx.stroke();
                            ctx.restore();

                            // åœ¨ R(t)=95% é»ä¸Šæ–¹ç¹ªè£½æ¨™ç±¤
                            const labelText = `(${rPoint.x.toFixed(2)}, ${rPoint.y.toFixed(1)}%)`;
                            ctx.font = 'bold 11px Arial';
                            const textWidth = ctx.measureText(labelText).width;
                            const padding = 6;
                            const textHeight = 11; // å­—é«”å¤§å°
                            const lineHeight = textHeight * 1.2; // è¡Œé«˜
                            const boxHeight = lineHeight + padding * 2; // æ¡†é«˜åº¦
                            const labelX = x - textWidth / 2;
                            const labelY = y - 25;

                            ctx.fillStyle = 'rgba(231, 76, 60, 0.9)';
                            ctx.beginPath();
                            ctx.roundRect(labelX - padding, labelY - (boxHeight/2), textWidth + padding * 2, boxHeight, 4);
                            ctx.fill();

                            // ç¹ªè£½æ–‡å­—
                            ctx.fillStyle = 'white';
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.fillText(labelText, x, labelY);

                            // åœ¨æ©«è»¸ä¸Šæ–¹ç¹ªè£½ t å€¼æ¨™ç±¤
                            ctx.save();
                            const tLabelText = `t=${rPoint.x.toFixed(2)}`;
                            ctx.font = 'bold 11px Arial';
                            const tTextWidth = ctx.measureText(tLabelText).width;
                            const tLabelX = x - tTextWidth / 2;
                            const tLabelY = yBottom + 15;

                            // ç¹ªè£½æ¨™ç±¤èƒŒæ™¯
                            ctx.fillStyle = '#e74c3c';
                            ctx.beginPath();
                            ctx.roundRect(tLabelX - padding, tLabelY - (boxHeight/2), tTextWidth + padding * 2, boxHeight, 4);
                            ctx.fill();

                            // ç¹ªè£½æ–‡å­—
                            ctx.fillStyle = 'white';
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            ctx.fillText(tLabelText, x, tLabelY);
                            ctx.restore();
                        }
                    });
                }
            };

            chartRel = new Chart(ctx2, {
                type: 'line',
                data: {
                    datasets: [
                        {
                            label: 'å¯é åº¦ R(t) %',
                            data: relPoints,
                            borderColor: '#27ae60',
                            backgroundColor: 'rgba(39, 174, 96, 0.2)',
                            fill: true,
                            pointRadius: 0,
                            borderWidth: 2
                        },
                        {
                            label: `R(t) = ${rValue}%`,
                            data: [rPoint],
                            backgroundColor: '#e74c3c',
                            borderColor: '#c0392b',
                            pointRadius: 5,
                            pointStyle: 'circle',
                            showLine: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    aspectRatio: 16 / 9,
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    },
                    plugins: {
                        title: { display: true, text: chartTitle, font: { size: 16 } },
                        tooltip: {
                            callbacks: {
                                label: (c) => {
                                    if (c.datasetIndex === 1) {
                                        return `R(t) = ${rValue}% æ–¼ t = ${c.parsed.x.toFixed(2)}`;
                                    }
                                    return `${c.parsed.y.toFixed(2)}%`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: { type: 'linear', title: { display: true, text: 'å£½å‘½ (t)' } },
                        y: { min: 0, max: 100, title: { display: true, text: 'å¯é åº¦ (%)' } }
                    }
                },
                plugins: [labelPlugin]
            });
        }
    </script>

        <!-- ç†è«–æŒ‡å—ï¼šå½ˆçª—ç‰ˆæœ¬ï¼ˆèˆ‡é›™çµ„ç‰ˆä¸€è‡´ï¼‰ -->
        <div id="theoryModal" class="batch-modal">
            <div class="batch-modal-content" style="max-width: 900px;">
                <div class="batch-modal-header">ğŸ“˜ Weibull åˆ†æç†è«–æŒ‡å—</div>
                <div style="max-height: 70vh; overflow-y: auto;">
                    <h2>1. æ•¸æ“šé¡å‹ï¼šå¤±æ•ˆèˆ‡å³è¨­é™</h2>
                    <p>å¤±æ•ˆæ•¸æ“š (F)ï¼šæ¨£å“æ–¼æ¸¬è©¦æœŸé–“ç™¼ç”Ÿå¤±æ•ˆã€‚å³è¨­é™æ•¸æ“š (S)ï¼šæ¸¬è©¦çµæŸæ™‚ä»æ­£å¸¸é‹ä½œï¼ŒåªçŸ¥è‡³å°‘å­˜æ´»åˆ°è©²æ™‚é–“ã€‚</p>
                    <div style="background:#e8f6f3; border:1px solid #a2d9ce; border-radius:5px; padding:12px; margin:10px 0;">
                        <h3 style="margin:0 0 8px 0; color:#2c3e50;">ç‚ºä»€éº¼æœƒæœ‰å³è¨­é™æ•¸æ“šï¼Ÿ</h3>
                        <ul style="margin:0 0 0 18px;">
                            <li>æ¸¬è©¦æ™‚é–“é™åˆ¶ï¼šä¾‹å¦‚ 500 å°æ™‚çµæŸä»æœªå¤±æ•ˆ â†’ è¨˜éŒ„ç‚º 500, S</li>
                            <li>æ¨£å“ç§»é™¤ï¼šæ¸¬è©¦ä¸­é€”å› éå¤±æ•ˆåŸå› ç§»é™¤æ¨£å“</li>
                            <li>æˆæœ¬è€ƒé‡ï¼šé•·æ™‚é–“æ¸¬è©¦æˆæœ¬é«˜ï¼Œç„¡æ³•ç­‰å¾…å…¨éƒ¨å¤±æ•ˆ</li>
                        </ul>
                    </div>

                    <h2>1.5 å¯é åº¦èˆ‡ä¸å¯é åº¦çš„é—œä¿‚</h2>
                    <p>åœ¨å·¥ç¨‹å¯¦å‹™ä¸­ï¼Œç”¢å“çš„ç‹€æ…‹æ˜¯ä¸€é«”å…©é¢çš„ï¼šä¸æ˜¯ã€Œå­˜æ´»ã€å°±æ˜¯ã€Œå·²å¤±æ•ˆã€ã€‚å› æ­¤æˆ‘å€‘å®šç¾©äº†äº’è£œçš„å…©å€‹æŒ‡æ¨™ï¼š</p>
                    <ul>
                        <li><strong>\(R(t)\) å¯é åº¦ (Reliability)</strong>ï¼š<br>é€šä¿—åç¨±ï¼š<strong class="highlight-text">å­˜æ´»ç‡ (Survival Rate)</strong><br>å®šç¾©ï¼šä»£è¡¨ç”¢å“é‹ä½œåˆ°æ™‚é–“ \(t\) <strong>ä»æœªæå£</strong>çš„æ©Ÿç‡ã€‚</li>
                        <li style="margin-top: 10px;"><strong>\(F(t)\) ä¸å¯é åº¦ (Unreliability)</strong>ï¼š<br>é€šä¿—åç¨±ï¼š<strong class="highlight-text">ç´¯ç©å¤±æ•ˆæ©Ÿç‡ (Cumulative Probability of Failure)</strong><br>å®šç¾©ï¼šä»£è¡¨ç”¢å“å¾é–‹å§‹é‹ä½œç›´åˆ°æ™‚é–“ \(t\) <strong>å·²ç¶“æå£</strong>çš„ç¸½æ¯”ä¾‹ï¼ˆå³ CDFï¼‰ã€‚</li>
                    </ul>
                    <div class="formula-box">
                        $$ R(t) + F(t) = 1 $$
                        <p style="font-size: 0.8em; color: #555; margin-top: 5px;">(å­˜æ´»ç‡) + (ç´¯ç©å¤±æ•ˆæ©Ÿç‡) = 100%</p>
                    </div>

                    <h2>2. æ ¸å¿ƒå…¬å¼</h2>
                    <div style="text-align:center; padding:10px; background:#f0f4f8; border:1px solid #dce4ec; border-radius:5px; margin:10px 0;">
                        $$ R(t) = e^{-(t/\eta)^{\beta}} $$
                    </div>
                    <ul>
                        <li>tï¼šå£½å‘½æˆ–å¾ªç’°æ¬¡æ•¸</li>
                        <li>R(t)ï¼šåœ¨æ™‚é–“ t å°šæœªå¤±æ•ˆçš„æ©Ÿç‡</li>
                        <li>\(\beta\) (Beta)ï¼šå½¢ç‹€åƒæ•¸</li>
                        <li>\(\eta\) (Eta)ï¼šå°ºåº¦åƒæ•¸ã€ç‰¹å¾µå£½å‘½</li>
                    </ul>

                    <h2>3. ç†è§£é—œéµåƒæ•¸</h2>
                    <h3>\(\beta\) çš„å·¥ç¨‹æ„ç¾©</h3>
                    <ul>
                        <li>\(\beta < 1\)ï¼šæ—©æœŸå¤±æ•ˆ (Infant Mortality)</li>
                        <li>\(\beta \approx 1\)ï¼šéš¨æ©Ÿå¤±æ•ˆ (Constant Failure Rate)</li>
                        <li>\(\beta > 1\)ï¼šç£¨è€—å¤±æ•ˆ (Wearâ€‘out)</li>
                    </ul>
                    <h3>\(\eta\) çš„å·¥ç¨‹æ„ç¾©</h3>
                    <p>ç•¶ \(63.2\%\) çš„æ¨£å“å¤±æ•ˆæ™‚çš„æ™‚é–“é»ï¼Œè¡¡é‡æ•´é«”å£½å‘½é•·çŸ­ã€‚</p>
                    <h3>\(R^2\) æ“¬åˆåº¦</h3>
                    <ul>
                        <li>\(R^2 \ge 0.95\)ï¼šæ“¬åˆå„ªç§€</li>
                        <li>\(0.90 \le R^2 < 0.95\)ï¼šæ“¬åˆè‰¯å¥½</li>
                        <li>\(0.80 \le R^2 < 0.90\)ï¼šå°šå¯æ“¬åˆ</li>
                        <li>\(R^2 < 0.80\)ï¼šæ“¬åˆä¸ä½³ï¼Œéœ€æª¢è¦–æ•¸æ“šæˆ–æ¨¡å‹</li>
                    </ul>

                    <h2>4. è¨ˆç®—æ­¥é©Ÿèˆ‡ç¤ºä¾‹</h2>
                    <h3>è¨ˆç®—ç‰¹å®šæ™‚é–“çš„å¯é åº¦</h3>
                    <div style="text-align:center; padding:10px; background:#f8f9fa; border:1px solid #dee2e6; border-radius:5px; margin:10px 0;">
                        $$ R(t_0) = e^{-(t_0/\eta)^{\beta}} $$
                    </div>
                    <h3>Bâ€‘Life åæ¨</h3>
                    <div style="text-align:center; padding:10px; background:#fff3cd; border:1px solid #ffc107; border-radius:5px; margin:10px 0;">
                        $$ t = \eta \times (-\ln(R))^{1/\beta} $$
                    </div>

                    <h2>5. Bâ€‘Life èˆ‡å·¥ç¨‹æ„ç¾©</h2>
                    <ul>
                        <li>B1ï¼šé«˜å®‰å…¨æ¨™æº–ï¼Œ\(R=99\%\)</li>
                        <li>B10ï¼šè¡Œæ¥­é€šç”¨ï¼Œ\(R=90\%\)</li>
                        <li>B63.2ï¼š\(\eta\) æœ¬èº«</li>
                    </ul>
                    <table style="width:100%; border-collapse:collapse; margin:12px 0;">
                        <thead>
                            <tr style="background:#34495e; color:#fff;">
                                <th style="padding:8px; border:1px solid #ddd;">æŒ‡æ¨™</th>
                                <th style="padding:8px; border:1px solid #ddd;">å¤±æ•ˆæ¯”ä¾‹</th>
                                <th style="padding:8px; border:1px solid #ddd;">å­˜æ´»ç‡</th>
                                <th style="padding:8px; border:1px solid #ddd;">å·¥ç¨‹æ„ç¾©</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background:#ffebee;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">B1</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">1%</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">99%</td>
                                <td style="padding:8px; border:1px solid #ddd;">é«˜å®‰å…¨æ€§ç”¢å“</td>
                            </tr>
                            <tr style="background:#e8f5e9;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">B10</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">10%</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">90%</td>
                                <td style="padding:8px; border:1px solid #ddd;">ä¿å›ºæœŸèˆ‡å£½å‘½è©•ä¼°</td>
                            </tr>
                            <tr style="background:#f3e5f5;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">B50</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">50%</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">50%</td>
                                <td style="padding:8px; border:1px solid #ddd;">ä¸­ä½æ•¸å£½å‘½</td>
                            </tr>
                            <tr style="background:#fff3e0;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">B63.2</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">63.2%</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">36.8%</td>
                                <td style="padding:8px; border:1px solid #ddd;">ç‰¹å¾µå£½å‘½ \(\eta\)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h2>6. æ¨£æœ¬æ•¸é‡å»ºè­°</h2>
                    <table style="width:100%; border-collapse:collapse; margin:12px 0;">
                        <thead>
                            <tr style="background:#34495e; color:#fff;">
                                <th style="padding:8px; border:1px solid #ddd;">æ¨£æœ¬æ•¸é‡</th>
                                <th style="padding:8px; border:1px solid #ddd;">è©•åƒ¹</th>
                                <th style="padding:8px; border:1px solid #ddd;">é©ç”¨æƒ…å¢ƒ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">3â€“5 é¡†</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center; color:#e74c3c;">æ¥µä½ (é«˜é¢¨éšª)</td>
                                <td style="padding:8px; border:1px solid #ddd;">æ˜‚è²´ç”¢å“æˆ–åˆæ­¥æ¸¬è©¦ï¼Œåƒ…çœ‹è¶¨å‹¢</td>
                            </tr>
                            <tr style="background:#f9f9f9;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">6â€“10 é¡†</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center; color:#f39c12;">å‹‰å¼·æ¥å—</td>
                                <td style="padding:8px; border:1px solid #ddd;">é–‹ç™¼éšæ®µå¿«é€Ÿé©—è­‰</td>
                            </tr>
                            <tr>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">10â€“20 é¡†</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center; color:#27ae60;">å·¥ç¨‹æ¨è–¦</td>
                                <td style="padding:8px; border:1px solid #ddd;">æœ€ä½³å¹³è¡¡ï¼Œè¶³ä»¥åˆ¤æ–·å¤±æ•ˆæ¨¡å¼</td>
                            </tr>
                            <tr style="background:#f9f9f9;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">20â€“30 é¡†+</td>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center; color:#2980b9;">çµ±è¨ˆé¡¯è‘—</td>
                                <td style="padding:8px; border:1px solid #ddd;">é«˜å¯é åº¦è¦æ±‚æˆ–ä½æˆæœ¬å…ƒä»¶</td>
                            </tr>
                        </tbody>
                    </table>

                    <h2>9. åœ–è§£æ³•ç·šæ€§åŒ–</h2>
                    <div style="text-align:center; padding:10px; background:#e3f2fd; border:1px solid #2196f3; border-radius:5px; margin:10px 0;">
                        $$ \ln(-\ln(1 - F(t))) = \beta \ln(t) - \beta \ln(\eta) $$
                    </div>
                    <p>æ•£é»è¶¨å‹¢ç·šæ–œç‡ç‚º \(\beta\)ï¼Œæˆªè·æ±ºå®š \(\eta\)ã€‚</p>

                    <h2>7. ç‚ºä»€éº¼éœ€è¦è¼ƒå¤šæ¨£æœ¬ï¼Ÿ</h2>
                    <div style="background:#e8f5e9; border:1px solid #81c784; border-radius:5px; padding:12px; margin:10px 0;">
                        <h3 style="margin:0 0 8px 0;">A. ä¿¡è³´å€é–“çš„å¯¬åº¦</h3>
                        <p>æ¨£æœ¬è¶Šå°‘ï¼Œä¸ç¢ºå®šæ€§è¶Šé«˜ã€‚5 é¡†æ¨£å“çš„ B10 ä¿¡è³´å€é–“å¯èƒ½éå¸¸å¯¬ï¼›20 é¡†å‰‡æ˜é¡¯æ”¶æ–‚ã€‚</p>
                    </div>
                    <div style="background:#fff3e0; border:1px solid #ffb74d; border-radius:5px; padding:12px; margin:10px 0;">
                        <h3 style="margin:0 0 8px 0;">B. æ—©æœŸå¤±æ•ˆå°¾ç«¯çš„æ•æ„Ÿåº¦</h3>
                        <p>B1/B10 å±¬æ–¼åˆ†ä½ˆå°¾ç«¯ï¼Œå°å°‘é‡ç•°å¸¸å€¼æ¥µç‚ºæ•æ„Ÿï¼Œéœ€è¼ƒå¤šæ¨£æœ¬ç©©å®šä¼°è¨ˆã€‚</p>
                    </div>
                    <div style="background:#fce4ec; border:1px solid #f48fb1; border-radius:5px; padding:12px; margin:10px 0;">
                        <h3 style="margin:0 0 8px 0;">C. ç¢ºèªå¤±æ•ˆæ¨¡å¼ (\(\beta\) å€¼)</h3>
                        <p>æ¨£æœ¬å¤ªå°‘æ™‚ï¼Œæ–œç‡å®¹æ˜“å—å–®é»å½±éŸ¿è€Œèª¤åˆ¤å¤±æ•ˆå‹æ…‹ï¼Œå°è‡´éŒ¯èª¤æ”¹å–„æ–¹å‘ã€‚</p>
                    </div>

                    <h2>8. å¯¦å‹™ç­–ç•¥</h2>
                    <div style="background:#e1f5fe; border:1px solid #4fc3f7; border-radius:5px; padding:12px; margin:10px 0;">
                        <h3 style="margin:0 0 8px 0;">ç­–ç•¥ä¸€ï¼šWeibayes (1 åƒæ•¸ Weibull)</h3>
                        <p>æ¨£æœ¬æ¥µå°‘æˆ–å¤šç‚ºè¨­é™æ™‚ï¼Œä¾æ­·å²ç¶“é©—å›ºå®š \(\beta\)ï¼Œåƒ…ä¼° \(\eta\)ã€‚</p>
                    </div>
                    <div style="background:#f3e5f5; border:1px solid #ba68c8; border-radius:5px; padding:12px; margin:10px 0;">
                        <h3 style="margin:0 0 8px 0;">ç­–ç•¥äºŒï¼šå¢åŠ è¨­é™æ•¸æ“š</h3>
                        <p>å°‘é‡å¤±æ•ˆæ­é…æ›´å¤šè¨­é™æ¨£æœ¬ï¼Œå¯é¡¯è‘—æå‡æ“¬åˆç©©å®šåº¦ã€‚</p>
                    </div>

                    <h2>10. å¯¦å‹™ç¸½çµ</h2>
                    <ul>
                        <li>è‡³å°‘è’é›† 10 é¡†ä»¥ä¸Šæ¨£æœ¬ï¼Œä¸¦ä¿ç•™è¨­é™æ•¸æ“š</li>
                        <li>åŒæ™‚æª¢è¦– \(\beta\)ã€\(\eta\)ã€\(R^2\) ä¸‰è€…ä»¥åˆ¤è®€å¤±æ•ˆå‹æ…‹èˆ‡å£½å‘½</li>
                        <li>ä»¥ Bâ€‘Life æŒ‡æ¨™æºé€šå·¥ç¨‹èˆ‡å•†å‹™ï¼ˆä¿å›ºã€å£½å‘½ã€æ”¹å–„å¹…åº¦ï¼‰</li>
                    </ul>

                    <h2>11. å·®ç•°åˆ†æçš„ç†è«–è£œå……ï¼ˆé›™çµ„æ¯”è¼ƒï¼‰</h2>
                    <h3>\(\beta\) å·®ç•°çš„æ„ç¾©</h3>
                    <ul>
                        <li>\(\beta_B > \beta_A\)ï¼šB çµ„å¤±æ•ˆç‡éš¨æ™‚é–“ä¸Šå‡æ›´å¿«ï¼Œå±¬ç£¨è€—åŠ åŠ‡ï¼Œå°¾ç«¯å¤±æ•ˆæ›´é›†ä¸­</li>
                        <li>\(\beta_B \approx \beta_A\)ï¼šå…©çµ„å¤±æ•ˆå‹æ…‹ç›¸è¿‘ï¼Œé©åˆç”¨ \(\eta\) æˆ– Bâ€‘Life ç›´æ¥æ¯”è¼ƒå£½å‘½</li>
                        <li>\(\beta_B < \beta_A\)ï¼šB çµ„è¼ƒå‚¾å‘æ—©æœŸå¤±æ•ˆï¼Œéœ€æª¢è¨è£½ç¨‹ï¼å“è³ªä¸€è‡´æ€§</li>
                    </ul>
                    <h3>\(\eta\) æ”¹å–„ç‡çš„åˆ¤è®€</h3>
                    <div style="text-align:center; padding:10px; background:#f8f9fa; border:1px solid #dee2e6; border-radius:5px; margin:10px 0;">
                        $$ \text{\% æ”¹å–„} = \left(\frac{\eta_B}{\eta_A} - 1\right) \times 100\% $$
                    </div>
                    <ul>
                        <li>é©ç”¨æƒ…å¢ƒï¼š\(|\beta_B - \beta_A| \le 0.2\)ï¼ˆå¤±æ•ˆå‹æ…‹è¿‘ä¼¼ï¼‰</li>
                        <li>è§£è®€ï¼š\(\eta_B/\eta_A = 1.30\) è¡¨ç¤ºå£½å‘½å»¶é•·ç´„ 30%</li>
                    </ul>
                    <h3>ç•¶ \(\beta\) ä¸åŒæ™‚çš„æ¯”è¼ƒæ–¹å¼</h3>
                    <ul>
                        <li>å›ºå®šå¯é åº¦æ¯”è¼ƒï¼šé¸å®š \(R\)ï¼ˆå¦‚ 95%ã€90%ï¼‰ï¼Œæ¯”è¼ƒå…©çµ„çš„ \(t(R)\)</li>
                    </ul>
                    <div style="text-align:center; padding:10px; background:#fff3cd; border:1px solid #ffc107; border-radius:5px; margin:10px 0;">
                        $$ t(R) = \eta \times \big(-\ln(R)\big)^{1/\beta} $$
                    </div>
                    <ul>
                        <li>Bâ€‘Life æ¯”è¼ƒï¼šä»¥ \(B10\)ã€\(B50\) æˆ– \(B1\) ç‚ºæŒ‡æ¨™ï¼Œæ¯”è¼ƒ \(t_{B,\,x} / t_{A,\,x}\)</li>
                        <li>å„ªé»ï¼šé¿å…åƒ…ä»¥ \(\eta\) åˆ¤æ–·è€Œå¿½ç•¥ \(\beta\) å°å°¾ç«¯çš„å½±éŸ¿</li>
                    </ul>
                    <h3>åˆ¤è®€ç¯„ä¾‹ï¼ˆæ–‡å­—åŒ–ï¼‰</h3>
                    <div style="background:#e8f6f3; border:1px solid #a2d9ce; border-radius:5px; padding:12px; margin:10px 0;">
                        <p>ä¾‹ä¸€ï¼ˆå‹æ…‹ç›¸è¿‘ï¼‰ï¼š\(\beta_A = 1.2,\ \eta_A = 500;\ \beta_B = 1.2,\ \eta_B = 650\)ã€‚å‰‡ \(\eta\) æ”¹å–„ â‰ˆ 30%ï¼ŒB10 æ¯”è¼ƒäº¦ç´„ 30% æå‡ã€‚</p>
                        <p>ä¾‹äºŒï¼ˆå‹æ…‹ä¸åŒï¼‰ï¼š\(\beta_A = 1.0,\ \eta_A = 520;\ \beta_B = 1.6,\ \eta_B = 650\)ã€‚ä»¥ \(R=90\%\) æ¯”è¼ƒï¼šè¨ˆç®— \(t_A(0.9)\) èˆ‡ \(t_B(0.9)\)ï¼›è‹¥ \(t_B/t_A > 1\)ï¼Œè¡¨ç¤ºåœ¨è©²å¯é åº¦ä¸‹ B çµ„æ›´è€ä¹…ã€‚</p>
                    </div>
                    <h3>åˆ¤è®€å„ªå…ˆé †åº</h3>
                    <table style="width:100%; border-collapse:collapse; margin:12px 0;">
                        <thead>
                            <tr style="background:#34495e; color:#fff;">
                                <th style="padding:8px; border:1px solid #ddd;">æ­¥é©Ÿ</th>
                                <th style="padding:8px; border:1px solid #ddd;">åˆ¤è®€è¦é»</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">1</td>
                                <td style="padding:8px; border:1px solid #ddd;">å…ˆæ¯”è¼ƒ \(\beta\)ï¼ˆå¤±æ•ˆå‹æ…‹ï¼‰æ˜¯å¦è¿‘ä¼¼</td>
                            </tr>
                            <tr style="background:#f9f9f9;">
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">2</td>
                                <td style="padding:8px; border:1px solid #ddd;">å‹æ…‹è¿‘ä¼¼æ™‚ç”¨ \(\eta\) æˆ– Bâ€‘Life ç›´æ¥æ¯”è¼ƒ</td>
                            </tr>
                            <tr>
                                <td style="padding:8px; border:1px solid #ddd; text-align:center;">3</td>
                                <td style="padding:8px; border:1px solid #ddd;">å‹æ…‹ä¸åŒæ™‚ç”¨å›ºå®š \(R\) æˆ– Bâ€‘Life æ¯”è¼ƒ</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="batch-buttons" style="grid-template-columns: 1fr;">
                        <button class="btn-clear" onclick="closeTheory()">é—œé–‰</button>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function openTheory() {
                document.getElementById('theoryModal').style.display = 'block';
            }

            function closeTheory() {
                document.getElementById('theoryModal').style.display = 'none';
            }

            document.addEventListener('click', function (event) {
                const modal = document.getElementById('theoryModal');
                if (event.target === modal) { closeTheory(); }
            });
        </script>

</body>

</html>
